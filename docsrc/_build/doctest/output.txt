Results of doctest builder run on 2020-08-21 13:46:40
=====================================================

Document: test
--------------
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    class MiscReader(MiscReaderMixin, dict):
        def __init__(self, d,
                            incoming_val_trans_for_key=None,
                            dflt_incoming_val_trans=None,
                            func_key=None):
            dict.__init__(self, d)
            MiscReaderMixin.__init__(self, incoming_val_trans_for_key, dflt_incoming_val_trans, func_key)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class MiscReader(MiscReaderMixin, dict):
    NameError: name 'MiscReaderMixin' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    incoming_val_trans_for_key = dict(
        MiscReaderMixin._incoming_val_trans_for_key,  # take the existing defaults...
        **{'.bin': lambda v: [ord(x) for x in v.decode()], # ... override how to handle the .bin extension
         '.reverse_this': lambda v: v[::-1]  # add a new extension (and how to handle it)
        })
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 2, in <module>
        MiscReaderMixin._incoming_val_trans_for_key,  # take the existing defaults...
    NameError: name 'MiscReaderMixin' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    s = MiscReader(d=d, incoming_val_trans_for_key=incoming_val_trans_for_key)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s = MiscReader(d=d, incoming_val_trans_for_key=incoming_val_trans_for_key)
    NameError: name 'MiscReader' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    list(s)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(s)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    s['a.bin']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        s['a.bin']
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    s['a.reverse_this']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s['a.reverse_this']
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    s['a.csv']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        s['a.csv']
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    s['a.pkl']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        s['a.pkl']
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    s['a.json']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        s['a.json']
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    class MiscStore(MiscStoreMixin, dict):
        def __init__(self, d,
                            incoming_val_trans_for_key=None, outgoing_val_trans_for_key=None,
                            dflt_incoming_val_trans=None, dflt_outgoing_val_trans=None,
                            func_key=None):
            dict.__init__(self, d)
            MiscStoreMixin.__init__(self, incoming_val_trans_for_key, outgoing_val_trans_for_key,
                                    dflt_incoming_val_trans, dflt_outgoing_val_trans, func_key)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class MiscStore(MiscStoreMixin, dict):
    NameError: name 'MiscStoreMixin' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    outgoing_val_trans_for_key = dict(
        MiscStoreMixin._outgoing_val_trans_for_key,  # take the existing defaults...
        **{'.bin': lambda v: ''.join([chr(x) for x in v]).encode(), # ... override how to handle the .bin extension
           '.reverse_this': lambda v: v[::-1]  # add a new extension (and how to handle it)
        })
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 2, in <module>
        MiscStoreMixin._outgoing_val_trans_for_key,  # take the existing defaults...
    NameError: name 'MiscStoreMixin' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    ss = MiscStore(d={},  # store starts empty
                   incoming_val_trans_for_key={},  # overriding incoming trans so we can see the raw data later
                   outgoing_val_trans_for_key=outgoing_val_trans_for_key)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        ss = MiscStore(d={},  # store starts empty
    NameError: name 'MiscStore' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    for k, v in data_to_write.items():
        ss[k] = v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 2, in <module>
        ss[k] = v
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    list(ss)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(ss)
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/misc.py", line ?, in default
Failed example:
    for k, v in ss.items():
        if k != 'a.pkl':
            print(f"{k}: {v}")
        else:  # need to verify pickle data differently, since printing contents is problematic in doctest
            assert pickle.loads(v) == data_to_write['a.pkl']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        for k, v in ss.items():
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    class TestPersister(OverWritesNotAllowedMixin, dict):
        pass
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class TestPersister(OverWritesNotAllowedMixin, dict):
    NameError: name 'OverWritesNotAllowedMixin' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    p = TestPersister()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        p = TestPersister()
    NameError: name 'TestPersister' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    p['foo'] = 'bar'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        p['foo'] = 'bar'
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    p['foo'] = 'this value should not be stored' # doctest: +NORMALIZE_WHITESPACE
Expected:
    Traceback (most recent call last):
      ...
    py2store.errors.OverWritesNotAllowedError: key foo already exists and cannot be overwritten.
        If you really want to write to that key, delete it before writing
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        p['foo'] = 'this value should not be stored' # doctest: +NORMALIZE_WHITESPACE
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    p['foo']  # foo is still bar
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        p['foo']  # foo is still bar
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    del p['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        del p['foo']
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    p['foo'] = 'this value WILL be stored'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        p['foo'] = 'this value WILL be stored'
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/mixins.py", line ?, in default
Failed example:
    p['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        p['foo']
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/test/util.py", line ?, in default
Failed example:
    list(random_formatted_str_gen('root/{}/{}_{}.test', (3, 4), 'a', n=2))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        list(random_formatted_str_gen('root/{}/{}_{}.test', (3, 4), 'a', n=2))
    NameError: name 'random_formatted_str_gen' is not defined
**********************************************************************
File "../py2store/test/util.py", line ?, in default
Failed example:
    list(random_formatted_str_gen('indexed field: {0}: named field: {name}', (2, 3), 'z', n=1))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        list(random_formatted_str_gen('indexed field: {0}: named field: {name}', (2, 3), 'z', n=1))
    NameError: name 'random_formatted_str_gen' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da = DictAttr(foo='bar', life=42)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        da = DictAttr(foo='bar', life=42)
    NameError: name 'DictAttr' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da.foo
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        da.foo
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da['life']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        da['life']
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da.true = 'love'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        da.true = 'love'
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    len(da)  # count the number of fields
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        len(da)  # count the number of fields
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da['friends'] = 'forever'  # write as dict
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        da['friends'] = 'forever'  # write as dict
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da.friends  # read as attribute
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        da.friends  # read as attribute
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    list(da)  # list fields (i.e. keys i.e. attributes)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        list(da)  # list fields (i.e. keys i.e. attributes)
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    del da['friends']  # delete as dict
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        del da['friends']  # delete as dict
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    del da.foo # delete as attribute
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        del da.foo # delete as attribute
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    list(da)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        list(da)
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    da._dict  # the hidden dict that is wrapped
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        da._dict  # the hidden dict that is wrapped
    NameError: name 'da' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    fill_with_dflts(None)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        fill_with_dflts(None)
    NameError: name 'fill_with_dflts' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    fill_with_dflts(None, {'a': 7, 'b': 42})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        fill_with_dflts(None, {'a': 7, 'b': 42})
    NameError: name 'fill_with_dflts' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    fill_with_dflts({}, {'a': 7, 'b': 42})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        fill_with_dflts({}, {'a': 7, 'b': 42})
    NameError: name 'fill_with_dflts' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    fill_with_dflts({'b': 1000}, {'a': 7, 'b': 42})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        fill_with_dflts({'b': 1000}, {'a': 7, 'b': 42})
    NameError: name 'fill_with_dflts' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    print(format_invocation('func', args=(1, 2), kwargs={'c': 3}))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        print(format_invocation('func', args=(1, 2), kwargs={'c': 3}))
    NameError: name 'format_invocation' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    print(format_invocation('a_func', args=(1,)))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        print(format_invocation('a_func', args=(1,)))
    NameError: name 'format_invocation' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    print(format_invocation('kw_func', kwargs=[('a', 1), ('b', 2)]))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        print(format_invocation('kw_func', kwargs=[('a', 1), ('b', 2)]))
    NameError: name 'format_invocation' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    groupby(range(11), key=lambda x: x % 3)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        groupby(range(11), key=lambda x: x % 3)
    NameError: name 'groupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    groupby(tokens, len)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        groupby(tokens, len)
    NameError: name 'groupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    groupby(tokens, lambda x: key_map.get(len(x), 'more'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        groupby(tokens, lambda x: key_map.get(len(x), 'more'))
    NameError: name 'groupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    groupby(tokens, lambda w: w in stopwords)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        groupby(tokens, lambda w: w in stopwords)
    NameError: name 'groupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    groupby(tokens, lambda w: ['words', 'stopwords'][int(w in stopwords)])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        groupby(tokens, lambda w: ['words', 'stopwords'][int(w in stopwords)])
    NameError: name 'groupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    class Test:
        def __init__(self, a):
            self.a = a
        @lazyprop
        def len(self):
            print('generating "len"')
            return len(self.a)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class Test:
      File "<doctest default[0]>", line 4, in Test
        @lazyprop
    NameError: name 'lazyprop' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t = Test([0, 1, 2, 3, 4])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        t = Test([0, 1, 2, 3, 4])
    NameError: name 'Test' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.__dict__
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        t.__dict__
    AttributeError: 'dict' object has no attribute '__dict__'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        t.len
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.__dict__
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        t.__dict__
    AttributeError: 'dict' object has no attribute '__dict__'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        t.len
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.a = [0, 1, 2]  # if we change a...
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        t.a = [0, 1, 2]  # if we change a...
    AttributeError: 'dict' object has no attribute 'a'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len  # ... we still get the old cached value of len
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        t.len  # ... we still get the old cached value of len
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    del t.len  # if we delete the len prop
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        del t.len  # if we delete the len prop
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len  # ... then len being recomputed again
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        t.len  # ... then len being recomputed again
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    class Test:
        def __init__(self, a):
            self.a = a
        @lazyprop_w_sentinel
        def len(self):
            print('generating "len"')
            return len(self.a)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class Test:
      File "<doctest default[0]>", line 4, in Test
        @lazyprop_w_sentinel
    NameError: name 'lazyprop_w_sentinel' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t = Test([0, 1, 2, 3, 4])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        t = Test([0, 1, 2, 3, 4])
    NameError: name 'Test' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    lazyprop_w_sentinel.cache_is_active(t, 'len')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        lazyprop_w_sentinel.cache_is_active(t, 'len')
    NameError: name 'lazyprop_w_sentinel' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.__dict__  # let's look under the hood
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        t.__dict__  # let's look under the hood
    AttributeError: 'dict' object has no attribute '__dict__'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        t.len
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    lazyprop_w_sentinel.cache_is_active(t, 'len')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        lazyprop_w_sentinel.cache_is_active(t, 'len')
    NameError: name 'lazyprop_w_sentinel' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len  # notice there's no 'generating "len"' print this time!
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        t.len  # notice there's no 'generating "len"' print this time!
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.__dict__  # let's look under the hood
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        t.__dict__  # let's look under the hood
    AttributeError: 'dict' object has no attribute '__dict__'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.a = [0, 1, 2]  # if we change a...
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        t.a = [0, 1, 2]  # if we change a...
    AttributeError: 'dict' object has no attribute 'a'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len  # ... we still get the old cached value of len
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        t.len  # ... we still get the old cached value of len
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    del t.len  # if we delete the len prop
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        del t.len  # if we delete the len prop
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    t.len  # ... then len being recomputed again
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        t.len  # ... then len being recomputed again
    AttributeError: 'dict' object has no attribute 'len'
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    list(filter(norm_kv_filt(lambda k: k in {'b', 'd'}), d.items()))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        list(filter(norm_kv_filt(lambda k: k in {'b', 'd'}), d.items()))
    NameError: name 'norm_kv_filt' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    list(filter(norm_kv_filt(lambda v: v > 2), d.items()))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list(filter(norm_kv_filt(lambda v: v > 2), d.items()))
    NameError: name 'norm_kv_filt' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    list(filter(norm_kv_filt(lambda k, v: (v > 1) & (k != 'c')), d.items()))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(filter(norm_kv_filt(lambda k, v: (v > 1) & (k != 'c')), d.items()))
    NameError: name 'norm_kv_filt' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    regroupby([1, 2, 3, 4, 5, 6, 7], lambda x: 'big' if x > 5 else 'small', mod3=lambda x: x % 3)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        regroupby([1, 2, 3, 4, 5, 6, 7], lambda x: 'big' if x > 5 else 'small', mod3=lambda x: x % 3)
    NameError: name 'regroupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    regroupby(tokens, word_category, len)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        regroupby(tokens, word_category, len)
    NameError: name 'regroupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    regroupby(tokens, len, word_category)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        regroupby(tokens, len, word_category)
    NameError: name 'regroupby' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    str_to_var_str('this_is_a_valid_var_name')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        str_to_var_str('this_is_a_valid_var_name')
    NameError: name 'str_to_var_str' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    str_to_var_str('not valid  #)*(&434')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        str_to_var_str('not valid  #)*(&434')
    NameError: name 'str_to_var_str' is not defined
**********************************************************************
File "../py2store/util.py", line ?, in default
Failed example:
    str_to_var_str('99_ballons')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        str_to_var_str('99_ballons')
    NameError: name 'str_to_var_str' is not defined
**********************************************************************
File "../py2store/ext/kaggle.py", line ?, in default
Failed example:
    ka = KaggleDatasetInfoReader(search='coronavirus covid')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        ka = KaggleDatasetInfoReader(search='coronavirus covid')
    NameError: name 'KaggleDatasetInfoReader' is not defined
**********************************************************************
File "../py2store/ext/kaggle.py", line ?, in default
Failed example:
    ka = KaggleDatasetInfoReader(user='sudalairajkumar', start_page=1, max_n_pages=2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        ka = KaggleDatasetInfoReader(user='sudalairajkumar', start_page=1, max_n_pages=2)
    NameError: name 'KaggleDatasetInfoReader' is not defined
**********************************************************************
File "../py2store/ext/module_imports.py", line ?, in default
Failed example:
    assert imports_for(wave) == {'warnings', 'builtins', 'sys', 'audioop', 'chunk', 'struct', 'collections'}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert imports_for(wave) == {'warnings', 'builtins', 'sys', 'audioop', 'chunk', 'struct', 'collections'}
    NameError: name 'imports_for' is not defined
**********************************************************************
File "../py2store/ext/module_imports.py", line ?, in default
Failed example:
    standard_lib_names = set(standard_lib_names_gen(include_underscored=True))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        standard_lib_names = set(standard_lib_names_gen(include_underscored=True))
    NameError: name 'standard_lib_names_gen' is not defined
**********************************************************************
File "../py2store/ext/module_imports.py", line ?, in default
Failed example:
    assert {'collections', 'asyncio', 'os', 'dis', '__future__'}.issubset(standard_lib_names)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert {'collections', 'asyncio', 'os', 'dis', '__future__'}.issubset(standard_lib_names)
    NameError: name 'standard_lib_names' is not defined
**********************************************************************
File "../py2store/ext/module_imports.py", line ?, in default
Failed example:
    assert {'__pycache__', 'LICENSE.txt', 'config-3.8-darwin', '.DS_Store'}.isdisjoint(standard_lib_names)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        assert {'__pycache__', 'LICENSE.txt', 'config-3.8-darwin', '.DS_Store'}.isdisjoint(standard_lib_names)
    NameError: name 'standard_lib_names' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    s = DirStore(root)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        s = DirStore(root)
    NameError: name 'DirStore' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert set(s).issuperset({'stores', 'persisters', 'serializers', 'key_mappers'})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert set(s).issuperset({'stores', 'persisters', 'serializers', 'key_mappers'})
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    s = PathFormatStore(path_format=rootdir)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        s = PathFormatStore(path_format=rootdir)
    NameError: name 'PathFormatStore' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert s._prefix == rootdir  # the _rootdir is the one given in constructor
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        assert s._prefix == rootdir  # the _rootdir is the one given in constructor
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert s[filepath_of('a')] == 'foo'  # (the filepath for) 'a' contains 'foo'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        assert s[filepath_of('a')] == 'foo'  # (the filepath for) 'a' contains 'foo'
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    len(s)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        len(s)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert list(s) == [filepath_of('a'), filepath_of('b')]  # there's two files in s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        assert list(s) == [filepath_of('a'), filepath_of('b')]  # there's two files in s
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    filepath_of('a') in s  # rootdir/a is in s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        filepath_of('a') in s  # rootdir/a is in s
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    filepath_of('not_there') in s  # rootdir/not_there is not in s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[17]>", line 1, in <module>
        filepath_of('not_there') in s  # rootdir/not_there is not in s
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    filepath_of('not_there') not in s  # rootdir/not_there is not in s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[18]>", line 1, in <module>
        filepath_of('not_there') not in s  # rootdir/not_there is not in s
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert list(s.keys()) == [filepath_of('a'), filepath_of('b')]  # the keys (filepaths) of s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[19]>", line 1, in <module>
        assert list(s.keys()) == [filepath_of('a'), filepath_of('b')]  # the keys (filepaths) of s
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    sorted(list(s.values())) # the values of s (contents of files)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[20]>", line 1, in <module>
        sorted(list(s.values())) # the values of s (contents of files)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert list(s.items()) == [(filepath_of('a'), 'foo'), (filepath_of('b'), 'bar')]  # the (path, content) items
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[21]>", line 1, in <module>
        assert list(s.items()) == [(filepath_of('a'), 'foo'), (filepath_of('b'), 'bar')]  # the (path, content) items
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert s.get('this key is not there', None) is None  # trying to get the val of a non-existing key returns None
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[22]>", line 1, in <module>
        assert s.get('this key is not there', None) is None  # trying to get the val of a non-existing key returns None
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    s.get('this key is not there', 'some default value')  # ... or whatever you say
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[23]>", line 1, in <module>
        s.get('this key is not there', 'some default value')  # ... or whatever you say
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    len(s)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[27]>", line 1, in <module>
        len(s)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    sorted(s.values())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[28]>", line 1, in <module>
        sorted(s.values())
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    s = PathFormatStore(path_format=rootdir + '{}.txt')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[29]>", line 1, in <module>
        s = PathFormatStore(path_format=rootdir + '{}.txt')
    NameError: name 'PathFormatStore' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    ss = PathFormatStore(path_format=rootdir_2 + '{}.txt')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[36]>", line 1, in <module>
        ss = PathFormatStore(path_format=rootdir_2 + '{}.txt')
    NameError: name 'PathFormatStore' is not defined
**********************************************************************
File "../py2store/stores/local_store.py", line ?, in default
Failed example:
    assert s != ss  # though pointing to identical content, o and oo are not equal since the paths are not equal!
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[37]>", line 1, in <module>
        assert s != ss  # though pointing to identical content, o and oo are not equal since the paths are not equal!
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    s = MongoAnyKeyStore(db_name='py2store_tests', collection_name='tmp', )
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        s = MongoAnyKeyStore(db_name='py2store_tests', collection_name='tmp', )
    NameError: name 'MongoAnyKeyStore' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    for k in s: del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        for k in s: del s[k]
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    s['foo'] = {'must': 'be', 'a': 'dict'}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s['foo'] = {'must': 'be', 'a': 'dict'}
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    s['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        s['foo']
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    s = MongoTupleKeyStore(db_name='py2store_tests', collection_name='tmp', key_fields=('_id', 'user'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        s = MongoTupleKeyStore(db_name='py2store_tests', collection_name='tmp', key_fields=('_id', 'user'))
    NameError: name 'MongoTupleKeyStore' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    for k in s: del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        for k in s: del s[k]
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    if k in s:  # deleting all docs in tmp
        del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        if k in s:  # deleting all docs in tmp
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert (k in s) == False  # see that key is not in store (and testing __contains__)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        assert (k in s) == False  # see that key is not in store (and testing __contains__)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    orig_length = len(s)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        orig_length = len(s)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    s[k] = v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s[k] = v
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert len(s) == orig_length + 1
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        assert len(s) == orig_length + 1
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert k in list(s)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        assert k in list(s)
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert s[k] == v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        assert s[k] == v
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert s.get(k) == v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        assert s.get(k) == v
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert v in list(s.values())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        assert v in list(s.values())
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert (k in s) == True # testing __contains__ again
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        assert (k in s) == True # testing __contains__ again
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        del s[k]
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/stores/mongo_store.py", line ?, in default
Failed example:
    assert len(s) == orig_length
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        assert len(s) == orig_length
    NameError: name 's' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    ss = ExplicitKeymapReader(s, id_of_key=id_of_key)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        ss = ExplicitKeymapReader(s, id_of_key=id_of_key)
    NameError: name 'ExplicitKeymapReader' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    list(ss)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(ss)
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    ss['C']  # will look up 'C', find 'c', and call the store on that.
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        ss['C']  # will look up 'C', find 'c', and call the store on that.
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    keys = ExplicitKeys(key_collection=['foo', 'bar', 'alice'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        keys = ExplicitKeys(key_collection=['foo', 'bar', 'alice'])
    NameError: name 'ExplicitKeys' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    'foo' in keys
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        'foo' in keys
    NameError: name 'keys' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    'not there' in keys
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        'not there' in keys
    NameError: name 'keys' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    list(keys)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(keys)
    NameError: name 'keys' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    ss = ExplicitKeysStore(s, ['d', 'a'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        ss = ExplicitKeysStore(s, ['d', 'a'])
    NameError: name 'ExplicitKeysStore' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    len(ss)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        len(ss)
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    list(ss)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        list(ss)
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    list(ss.values())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(ss.values())
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    ss.head()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        ss.head()
    NameError: name 'ss' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    s = ExplicitKeysWithPrefixRelativization(key_collection=['/root/of/foo', '/root/of/bar', '/root/for/alice'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = ExplicitKeysWithPrefixRelativization(key_collection=['/root/of/foo', '/root/of/bar', '/root/for/alice'])
    NameError: name 'ExplicitKeysWithPrefixRelativization' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    'of/foo' in keys
Expected:
    True
Got:
    False
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    list(keys)
Expected:
    ['of/foo', 'of/bar', 'for/alice']
Got:
    ['a', 'b', 'c', 'd']
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    pr = ObjReader(_obj_of_key=read_dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        pr = ObjReader(_obj_of_key=read_dict)
    NameError: name 'ObjReader' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    pr['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        pr['foo']
    NameError: name 'pr' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    pr[42]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        pr[42]
    NameError: name 'pr' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    pr = ObjReader(_obj_of_key=read_file)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        pr = ObjReader(_obj_of_key=read_file)
    NameError: name 'ObjReader' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    print(pr[file_where_this_code_is][:100])  # print the first 100 characters of this file
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        print(pr[file_where_this_code_is][:100])  # print the first 100 characters of this file
    NameError: name 'pr' is not defined
**********************************************************************
File "../py2store/utils/explicit.py", line ?, in default
Failed example:
    invertible_maps(None, None)
Expected:
    Traceback (most recent call last):
      ...
    ValueError: You need to specify one or both maps
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        invertible_maps(None, None)
    NameError: name 'invertible_maps' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    ag = mk_group_aggregator(lambda item: (item[0].lower(), item),
                             aggregator_op=lambda x, y: ', '.join([x, y]))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        ag = mk_group_aggregator(lambda item: (item[0].lower(), item),
    NameError: name 'mk_group_aggregator' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    list(ag(['apple', 'bananna', 'Airplane']))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        list(ag(['apple', 'bananna', 'Airplane']))
    NameError: name 'ag' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    ag = mk_group_aggregator(lambda item: (item['age'], item['thing']),
                             aggregator_op=lambda x, y: x + [y],
                             initial=[])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        ag = mk_group_aggregator(lambda item: (item['age'], item['thing']),
    NameError: name 'mk_group_aggregator' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    list(ag([{'age': 0, 'thing': 'new'}, {'age': 42, 'thing': 'every'}, {'age': 0, 'thing': 'just born'}]))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(ag([{'age': 0, 'thing': 'new'}, {'age': 42, 'thing': 'every'}, {'age': 0, 'thing': 'just born'}]))
    NameError: name 'ag' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    ag = mk_group_aggregator_with_key_func(lambda item: item[0].lower(),
                             aggregator_op=lambda x, y: ', '.join([x, y]))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        ag = mk_group_aggregator_with_key_func(lambda item: item[0].lower(),
    NameError: name 'mk_group_aggregator_with_key_func' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    list(ag(['apple', 'bananna', 'Airplane']))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        list(ag(['apple', 'bananna', 'Airplane']))
    NameError: name 'ag' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    # Collect (and concatenate) characters according to their ascii value modulo 3
    ag = mk_group_aggregator_with_key_func(lambda item: (ord(item) % 3))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 2, in <module>
        ag = mk_group_aggregator_with_key_func(lambda item: (ord(item) % 3))
    NameError: name 'mk_group_aggregator_with_key_func' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    list(ag('abcdefghijklmnop'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(ag('abcdefghijklmnop'))
    NameError: name 'ag' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    # sum all even and odd number separately
    ag = mk_group_aggregator_with_key_func(lambda item: (item % 2))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 2, in <module>
        ag = mk_group_aggregator_with_key_func(lambda item: (item % 2))
    NameError: name 'mk_group_aggregator_with_key_func' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    list(ag([1, 2, 3, 4, 5]))  # sum of evens is 6, and sum of odds is 9
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(ag([1, 2, 3, 4, 5]))  # sum of evens is 6, and sum of odds is 9
    NameError: name 'ag' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    # if we wanted to collect all odds and evens, we'd need a different aggregator and initial
    ag = mk_group_aggregator_with_key_func(lambda item: (item % 2), aggregator_op=lambda x, y: x + [y], initial=[])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 2, in <module>
        ag = mk_group_aggregator_with_key_func(lambda item: (item % 2), aggregator_op=lambda x, y: x + [y], initial=[])
    NameError: name 'mk_group_aggregator_with_key_func' is not defined
**********************************************************************
File "../py2store/utils/cumul_aggreg_write.py", line ?, in default
Failed example:
    list(ag([1, 2, 3, 4, 5]))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        list(ag([1, 2, 3, 4, 5]))
    NameError: name 'ag' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t = FirstAppendOnly()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        t = FirstAppendOnly()
    NameError: name 'FirstAppendOnly' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert len(t) == 0
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert len(t) == 0
    AssertionError
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t.append('something')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        t.append('something')
    AttributeError: 'dict' object has no attribute 'append'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert t[0] == 'something'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert t[0] == 'something'
    KeyError: 0
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t.append('something else')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        t.append('something else')
    AttributeError: 'dict' object has no attribute 'append'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert t[0] == 'something'  # still the same item
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        assert t[0] == 'something'  # still the same item
    KeyError: 0
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t[:1] == t[:10] == t[::-1] == t[::-10] == t[0:2:10] == list(reversed(t)) == ['something']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        t[:1] == t[:10] == t[::-1] == t[::-10] == t[0:2:10] == list(reversed(t)) == ['something']
    TypeError: unhashable type: 'slice'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t.count('something') == 1
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        t.count('something') == 1
    AttributeError: 'dict' object has no attribute 'count'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t.index('something') == 0
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        t.index('something') == 0
    AttributeError: 'dict' object has no attribute 'index'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t = FixedSizeStack(maxsize=1)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        t = FixedSizeStack(maxsize=1)
    NameError: name 'FixedSizeStack' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert len(t) == 0
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert len(t) == 0
    AssertionError
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t.append('something')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        t.append('something')
    AttributeError: 'dict' object has no attribute 'append'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert t[0] == 'something'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert t[0] == 'something'
    KeyError: 0
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t.append('something else')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        t.append('something else')
    AttributeError: 'dict' object has no attribute 'append'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert t[0] == 'something'  # still the same item
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        assert t[0] == 'something'  # still the same item
    KeyError: 0
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    t[:1] == t[:10] == t[::-1] == t[::-10] == t[0:2:10] == list(reversed(t)) == ['something']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        t[:1] == t[:10] == t[::-1] == t[::-10] == t[0:2:10] == list(reversed(t)) == ['something']
    TypeError: unhashable type: 'slice'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert t.count('something') == 1
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert t.count('something') == 1
    AttributeError: 'dict' object has no attribute 'count'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert t.index('something') == 0
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        assert t.index('something') == 0
    AttributeError: 'dict' object has no attribute 'index'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
    NameError: name 'add_append_functionality_to_store_cls' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
    NameError: name 'MyStore' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    # Use mk_item2kv.from_item_to_key_params_and_val with tuple key params
    item_to_kv = mk_item2kv_for.item_to_key_params_and_val(lambda x: ((x['L'], x['I']), x['G']), '{}/{}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 2, in <module>
        item_to_kv = mk_item2kv_for.item_to_key_params_and_val(lambda x: ((x['L'], x['I']), x['G']), '{}/{}')
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
    NameError: name 'add_append_functionality_to_store_cls' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
    NameError: name 'MyStore' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    # Use mk_item2kv.from_item_to_key_params_and_val with dict key params
    item_to_kv = mk_item2kv_for.item_to_key_params_and_val(
        lambda x: ({'L': x['L'], 'G': x['G']}, x['I']), '{G}_{L}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 2, in <module>
        item_to_kv = mk_item2kv_for.item_to_key_params_and_val(
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
    NameError: name 'add_append_functionality_to_store_cls' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
    NameError: name 'MyStore' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    # Use mk_item2kv.fields to get a tuple key from item fields, defining the sub-dict of the remaining fields to be the value
    item_to_kv = mk_item2kv_for.fields(['G', 'L'], key_as_tuple=True)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 2, in <module>
        item_to_kv = mk_item2kv_for.fields(['G', 'L'], key_as_tuple=True)
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        MyStore = add_append_functionality_to_store_cls(dict, item_to_kv)
    NameError: name 'add_append_functionality_to_store_cls' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        s = MyStore(); s.append({'L': 'let', 'I': 'it', 'G': 'go'}); list(s.items())
    NameError: name 'MyStore' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    AA = define_extend_as_seq_of_appends(A)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        AA = define_extend_as_seq_of_appends(A)
    NameError: name 'define_extend_as_seq_of_appends' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a = AA()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        a = AA()
    NameError: name 'AA' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.extend([1,2,3])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        a.extend([1,2,3])
    NameError: name 'a' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.t
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        a.t
    NameError: name 'a' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.extend([10, 20])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        a.extend([10, 20])
    NameError: name 'a' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.t
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        a.t
    NameError: name 'a' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a = define_extend_as_seq_of_appends(a)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        a = define_extend_as_seq_of_appends(a)
    NameError: name 'define_extend_as_seq_of_appends' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.extend([1,2,3])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        a.extend([1,2,3])
    AttributeError: 'A' object has no attribute 'extend'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.t
Expected:
    [1, 2, 3]
Got:
    []
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.extend([10, 20])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        a.extend([10, 20])
    AttributeError: 'A' object has no attribute 'extend'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    a.t
Expected:
    [1, 2, 3, 10, 20]
Got:
    []
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item2kv = mk_item2kv_for.item_to_key(item2key=lambda item: item['L'] )
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        item2kv = mk_item2kv_for.item_to_key(item2key=lambda item: item['L'] )
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item2kv({'L': 'let', 'I': 'it', 'G': 'go'})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        item2kv({'L': 'let', 'I': 'it', 'G': 'go'})
    NameError: name 'item2kv' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item2key = mk_item2kv_for.utc_key()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        item2key = mk_item2kv_for.utc_key()
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    k, v = item2key('some data')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        k, v = item2key('some data')
    NameError: name 'item2key' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert abs(time.time() - k) < 0.01  # which asserts that k is indeed a (current) utc timestamp
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        assert abs(time.time() - k) < 0.01  # which asserts that k is indeed a (current) utc timestamp
    TypeError: unsupported operand type(s) for -: 'float' and 'tuple'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert v == 'some data'  # just the item itself
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        assert v == 'some data'  # just the item itself
    AssertionError
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.item_to_key_params_and_val(lambda x: ((x['L'], x['I']), x['G']), '{}/{}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.item_to_key_params_and_val(lambda x: ((x['L'], x['I']), x['G']), '{}/{}')
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    ('let/it', 'go')
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields(['L', 'I'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields(['L', 'I'])
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    ({'L': 'let', 'I': 'it'}, {'G': 'go'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields(('G', 'L'), keep_field_in_value=True)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields(('G', 'L'), keep_field_in_value=True)
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})  # note the order of the key is not ('G', 'L')...
Expected:
    ({'L': 'let', 'G': 'go'}, {'L': 'let', 'I': 'it', 'G': 'go'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields(('G', 'L'), key_as_tuple=True)  # but ('G', 'L') order is respected here
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields(('G', 'L'), key_as_tuple=True)  # but ('G', 'L') order is respected here
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    (('go', 'let'), {'I': 'it'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields('L')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields('L')
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    ({'L': 'let'}, {'I': 'it', 'G': 'go'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields(['L', 'I'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields(['L', 'I'])
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    ({'L': 'let', 'I': 'it'}, {'G': 'go'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields(('G', 'L'), keep_field_in_value=True)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields(('G', 'L'), keep_field_in_value=True)
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})  # note the order of the key is not ('G', 'L')...
Expected:
    ({'L': 'let', 'G': 'go'}, {'L': 'let', 'I': 'it', 'G': 'go'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.fields(('G', 'L'), key_as_tuple=True)  # but ('G', 'L') order is respected here
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.fields(('G', 'L'), key_as_tuple=True)  # but ('G', 'L') order is respected here
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    (('go', 'let'), {'I': 'it'})
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item2kv = mk_item2kv_for.item_to_key(item2key)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        item2kv = mk_item2kv_for.item_to_key(item2key)
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item2kv({'L': 'let', 'I': 'it', 'G': 'go'})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        item2kv({'L': 'let', 'I': 'it', 'G': 'go'})
    NameError: name 'item2kv' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.item_to_key_params_and_val(lambda x: ((x['L'], x['I']), x['G']), '{}/{}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.item_to_key_params_and_val(lambda x: ((x['L'], x['I']), x['G']), '{}/{}')
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    ('let/it', 'go')
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv = mk_item2kv_for.item_to_key_params_and_val(
                                lambda x: ({'second': x['L'], 'first': x['G']}, x['I']), '{first}_{second}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        item_to_kv = mk_item2kv_for.item_to_key_params_and_val(
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item_to_kv({'L': 'let', 'I': 'it', 'G': 'go'})
Expected:
    ('go_let', 'it')
Got:
    ('let', {'L': 'let', 'I': 'it', 'G': 'go'})
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    item2key = mk_item2kv_for.utc_key()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        item2key = mk_item2kv_for.utc_key()
    NameError: name 'mk_item2kv_for' is not defined
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    k, v = item2key('some data')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        k, v = item2key('some data')
      File "<doctest default[0]>", line 1, in <lambda>
        import time
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert abs(time.time() - k) < 0.01  # which asserts that k is indeed a (current) utc timestamp
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        assert abs(time.time() - k) < 0.01  # which asserts that k is indeed a (current) utc timestamp
    TypeError: unsupported operand type(s) for -: 'float' and 'tuple'
**********************************************************************
File "../py2store/utils/appendable.py", line ?, in default
Failed example:
    assert v == 'some data'  # just the item itself
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert v == 'some data'  # just the item itself
    AssertionError
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    convert = AffineConverter(scale=0.5, offset=1)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        convert = AffineConverter(scale=0.5, offset=1)
    NameError: name 'AffineConverter' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    convert(0)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        convert(0)
    NameError: name 'convert' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    convert(10)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        convert(10)
    NameError: name 'convert' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    convert.inv(4)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        convert.inv(4)
    NameError: name 'convert' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    convert.inv(4.5)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        convert.inv(4.5)
    NameError: name 'convert' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    affine_converter, inverse_affine_converter = get_affine_converter_and_inverse(scale=0.5, offset=1)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        affine_converter, inverse_affine_converter = get_affine_converter_and_inverse(scale=0.5, offset=1)
    NameError: name 'get_affine_converter_and_inverse' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    affine_converter(0)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        affine_converter(0)
    NameError: name 'affine_converter' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    affine_converter(10)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        affine_converter(10)
    NameError: name 'affine_converter' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    inverse_affine_converter(4)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        inverse_affine_converter(4)
    NameError: name 'inverse_affine_converter' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    inverse_affine_converter(4.5)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        inverse_affine_converter(4.5)
    NameError: name 'inverse_affine_converter' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    affine_converter, inverse_affine_converter = get_affine_converter_and_inverse(
                                                    offset=1, scale=0.5, target_type_cast=int)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        affine_converter, inverse_affine_converter = get_affine_converter_and_inverse(
    NameError: name 'get_affine_converter_and_inverse' is not defined
**********************************************************************
File "../py2store/utils/affine_conversion.py", line ?, in default
Failed example:
    affine_converter(10)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        affine_converter(10)
    NameError: name 'affine_converter' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    Params(foo)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        Params(foo)
    NameError: name 'Params' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    p = Params(bar)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        p = Params(bar)
    NameError: name 'Params' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    Params(p['b'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        Params(p['b'])
    NameError: name 'Params' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    Params()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        Params()
    NameError: name 'Params' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    Params([p['d'], p['b']])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        Params([p['d'], p['b']])
    NameError: name 'Params' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    common_and_diff_argnames(f, g)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        common_and_diff_argnames(f, g)
    NameError: name 'common_and_diff_argnames' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    common_and_diff_argnames(g, f)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        common_and_diff_argnames(g, f)
    NameError: name 'common_and_diff_argnames' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    mk_signature(['a', 'b', 'c'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        mk_signature(['a', 'b', 'c'])
    NameError: name 'mk_signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    mk_signature(['a', ('b', None), ('c', 42, int)])  # specifying defaults and annotations
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        mk_signature(['a', ('b', None), ('c', 42, int)])  # specifying defaults and annotations
    NameError: name 'mk_signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    mk_signature(['a', ('b', inspect._empty, int)])  # specifying an annotation without a default
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        mk_signature(['a', ('b', inspect._empty, int)])  # specifying an annotation without a default
    NameError: name 'mk_signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    mk_signature(['a', 'b', 'c'], return_annotation=str)  # specifying return annotation
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        mk_signature(['a', 'b', 'c'], return_annotation=str)  # specifying return annotation
    NameError: name 'mk_signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    mk_signature([inspect.Parameter(name='kws', kind=inspect.Parameter.VAR_KEYWORD)], return_annotation=str)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        mk_signature([inspect.Parameter(name='kws', kind=inspect.Parameter.VAR_KEYWORD)], return_annotation=str)
    NameError: name 'mk_signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    sig_foo = signature(foo)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        sig_foo = signature(foo)
    NameError: name 'signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    assert mk_signature(**signature_to_dict(sig_foo)) == sig_foo
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        assert mk_signature(**signature_to_dict(sig_foo)) == sig_foo
    NameError: name 'mk_signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    list(map(param_for_kind, param_kinds))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        list(map(param_for_kind, param_kinds))
    NameError: name 'param_for_kind' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    param_for_kind.positional_or_keyword()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        param_for_kind.positional_or_keyword()
    NameError: name 'param_for_kind' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    param_for_kind.positional_or_keyword('foo')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        param_for_kind.positional_or_keyword('foo')
    NameError: name 'param_for_kind' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    param_for_kind.keyword_only()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        param_for_kind.keyword_only()
    NameError: name 'param_for_kind' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    param_for_kind.keyword_only('baz', with_default=True)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        param_for_kind.keyword_only('baz', with_default=True)
    NameError: name 'param_for_kind' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    set_signature_of_func(foo, ['a', 'b', 'c'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        set_signature_of_func(foo, ['a', 'b', 'c'])
    NameError: name 'set_signature_of_func' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    inspect.signature(foo)
Expected:
    <Signature (a, b, c)>
Got:
    <Signature (*args, **kwargs)>
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    set_signature_of_func(foo, ['a', ('b', None), ('c', 42, int)])  # specifying defaults and annotations
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        set_signature_of_func(foo, ['a', ('b', None), ('c', 42, int)])  # specifying defaults and annotations
    NameError: name 'set_signature_of_func' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    inspect.signature(foo)
Expected:
    <Signature (a, b=None, c: int = 42)>
Got:
    <Signature (*args, **kwargs)>
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    set_signature_of_func(foo, ['a', 'b', 'c'], return_annotation=str)  # specifying return annotation
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        set_signature_of_func(foo, ['a', 'b', 'c'], return_annotation=str)  # specifying return annotation
    NameError: name 'set_signature_of_func' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    inspect.signature(foo)
Expected:
    <Signature (a, b, c) -> str>
Got:
    <Signature (*args, **kwargs)>
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    set_signature_of_func(
     foo,
     [inspect.Parameter(name='kws', kind=inspect.Parameter.VAR_KEYWORD)], return_annotation=str)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        set_signature_of_func(
    NameError: name 'set_signature_of_func' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    inspect.signature(foo)
Expected:
    <Signature (**kws) -> str>
Got:
    <Signature (*args, **kwargs)>
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    @update_signature_with_signatures_from_funcs(foo, bar)
    def hello(x: str='hi', y=1) -> str:
        pass
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        @update_signature_with_signatures_from_funcs(foo, bar)
    NameError: name 'update_signature_with_signatures_from_funcs' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    signature(hello)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        signature(hello)
    NameError: name 'signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    add_foobar_to_signature_first = update_signature_with_signatures_from_funcs(bar, foo, priority='first')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        add_foobar_to_signature_first = update_signature_with_signatures_from_funcs(bar, foo, priority='first')
    NameError: name 'update_signature_with_signatures_from_funcs' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    bar_foo_something = add_foobar_to_signature_first(something)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        bar_foo_something = add_foobar_to_signature_first(something)
    NameError: name 'add_foobar_to_signature_first' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    signature(bar_foo_something)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        signature(bar_foo_something)
    NameError: name 'signature' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    bar_foo_another = add_foobar_to_signature_first(another)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        bar_foo_another = add_foobar_to_signature_first(another)
    NameError: name 'add_foobar_to_signature_first' is not defined
**********************************************************************
File "../py2store/utils/signatures.py", line ?, in default
Failed example:
    signature(bar_foo_another)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        signature(bar_foo_another)
    NameError: name 'signature' is not defined
**********************************************************************
File "../py2store/utils/sliceable.py", line ?, in default
Failed example:
    sliceable_s = iSliceStore(s)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        sliceable_s = iSliceStore(s)
    NameError: name 'iSliceStore' is not defined
**********************************************************************
File "../py2store/utils/sliceable.py", line ?, in default
Failed example:
    sliceable_s[1]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        sliceable_s[1]
    NameError: name 'sliceable_s' is not defined
**********************************************************************
File "../py2store/utils/sliceable.py", line ?, in default
Failed example:
    list(sliceable_s[0:2])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(sliceable_s[0:2])
    NameError: name 'sliceable_s' is not defined
**********************************************************************
File "../py2store/utils/sliceable.py", line ?, in default
Failed example:
    list(sliceable_s[-2:])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        list(sliceable_s[-2:])
    NameError: name 'sliceable_s' is not defined
**********************************************************************
File "../py2store/utils/sliceable.py", line ?, in default
Failed example:
    list(sliceable_s[:-1])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(sliceable_s[:-1])
    NameError: name 'sliceable_s' is not defined
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    g = LeafMappify(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        g = LeafMappify(d)
    NameError: name 'LeafMappify' is not defined
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert list(g) == ['a', 'b.is', 'c.is', 'c.and', 'c.a']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        assert list(g) == ['a', 'b.is', 'c.is', 'c.and', 'c.a']
    TypeError: 'function' object is not iterable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert g['a'] == 'simple'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        assert g['a'] == 'simple'
    TypeError: 'function' object is not subscriptable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert g['b.is'] == 'nested'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert g['b.is'] == 'nested'
    TypeError: 'function' object is not subscriptable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert g['c.a'] == [1, 2, 3]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        assert g['c.a'] == [1, 2, 3]
    TypeError: 'function' object is not subscriptable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    for k, v in g.items():
        print(f"{k}: {v}")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        for k, v in g.items():
    AttributeError: 'function' object has no attribute 'items'
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    g = Mappify(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        g = Mappify(d)
    NameError: name 'Mappify' is not defined
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert list(g) == ['a', 'b.is', 'b', 'c.is', 'c.and', 'c.a', 'c']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        assert list(g) == ['a', 'b.is', 'b', 'c.is', 'c.and', 'c.a', 'c']
    TypeError: 'function' object is not iterable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert g['a'] == 'simple'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        assert g['a'] == 'simple'
    TypeError: 'function' object is not subscriptable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert g['b.is'] == 'nested'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert g['b.is'] == 'nested'
    TypeError: 'function' object is not subscriptable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    assert g['c.a'] == [1, 2, 3]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        assert g['c.a'] == [1, 2, 3]
    TypeError: 'function' object is not subscriptable
**********************************************************************
File "../py2store/utils/mappify.py", line ?, in default
Failed example:
    for k, v in g.items():
        print(f"{k}: {v}")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        for k, v in g.items():
    AttributeError: 'function' object has no attribute 'items'
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Call(ExampleClass, kwargs=T)).attr
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, Call(ExampleClass, kwargs=T)).attr
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Coalesce('a', 'b', 'c'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, Coalesce('a', 'b', 'c'))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Coalesce('a', 'b'))
Expected:
    Traceback (most recent call last):
    ...
    CoalesceError: no valid values found. Tried ('a', 'b') and got (PathAccessError, PathAccessError) ...
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, Coalesce('a', 'b'))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Coalesce('a', 'b', 'c'), default='d-fault')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, Coalesce('a', 'b', 'c'), default='d-fault')
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Coalesce('a', 'b'))
Expected:
    Traceback (most recent call last):
    ...
    CoalesceError: no valid values found. Tried ('a', 'b') and got (PathAccessError, PathAccessError) ...
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, Coalesce('a', 'b'))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Fill((T['data'][2], T['data'][0]))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        spec = Fill((T['data'][2], T['data'][0]))
    NameError: name 'Fill' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glommer = Glommer()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        glommer = Glommer()
    NameError: name 'Glommer' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glommer.glom({}, 'a.b.c', default='d')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glommer.glom({}, 'a.b.c', default='d')
    NameError: name 'glommer' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    Glommer().glom({'vals': list(range(3))}, ('vals', len))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        Glommer().glom({'vals': list(range(3))}, ('vals', len))
    NameError: name 'Glommer' is not defined
**********************************************************************
File "test.rst", line ?, in default
Failed example:
    val = glom(target, Inspect('a.b'))  # wrapping a spec
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        val = glom(target, Inspect('a.b'))  # wrapping a spec
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    is_int = Invoke(isinstance).specs(T).constants(int)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        is_int = Invoke(isinstance).specs(T).constants(int)
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(5, is_int)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(5, is_int)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, [is_int])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, [is_int])
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke(sorted).specs(T).constants(key=int, reverse=True)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = Invoke(sorted).specs(T).constants(key=int, reverse=True)
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target={}, spec=Invoke(int))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        glom(target={}, spec=Invoke(int))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke(T).constants(5)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = Invoke(T).constants(5)
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(range, (spec, list))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(range, (spec, list))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke(T).constants(2).constants(10, 2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = Invoke(T).constants(2).constants(10, 2)
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(range, (spec, list))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(range, (spec, list))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    round_2 = Invoke(round).constants(ndigits=2).specs(T)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        round_2 = Invoke(round).constants(ndigits=2).specs(T)
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(3.14159, round_2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(3.14159, round_2)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke.specfunc('func').constants(5)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = Invoke.specfunc('func').constants(5)
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom({'func': range}, (spec, list))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom({'func': range}, (spec, list))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke(range).specs('value')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = Invoke(range).specs('value')
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom({'value': 5}, (spec, list))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom({'value': 5}, (spec, list))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke(range).specs('start').specs('end', 'step')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = Invoke(range).specs('start').specs('end', 'step')
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, (spec, list))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, (spec, list))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    times_3 = Invoke(multiply).constants(y=3).specs(x='value')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        times_3 = Invoke(multiply).constants(y=3).specs(x='value')
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom({'value': 5}, times_3)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom({'value': 5}, times_3)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = Invoke(os.path.join).star(args='path')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        spec = Invoke(os.path.join).star(args='path')
    NameError: name 'Invoke' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = (Let(value=T['data']['val']), {'val': S['value']})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        spec = (Let(value=T['data']['val']), {'val': S['value']})
    NameError: name 'Let' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = {'a': 'a.b', 'readability': Literal('counts')}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        spec = {'a': 'a.b', 'readability': Literal('counts')}
    NameError: name 'Literal' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    pprint(glom(target, spec))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        pprint(glom(target, spec))
    NameError: name 'pprint' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Path('a', 2))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, Path('a', 2))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Path('a', 'd.e'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, Path('a', 'd.e'))
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    Path(T['a'], T['b'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        Path(T['a'], T['b'])
    NameError: name 'Path' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    Path(Path('a', 'b'), Path('c', 'd'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        Path(Path('a', 'b'), Path('c', 'd'))
    NameError: name 'Path' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    path = Path('a', 'b', 1, 2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        path = Path('a', 'b', 1, 2)
    NameError: name 'Path' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    path[0]
Expected:
    Path('a')
Got:
    '/'
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    path[-2:]
Expected:
    Path(1, 2)
Got:
    'on'
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    Path.from_text('a.b.c')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        Path.from_text('a.b.c')
    NameError: name 'Path' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    Path(T.a.b, 'c', T['d']).items()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        Path(T.a.b, 'c', T['d']).items()
    NameError: name 'Path' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    Path(T.a.b, 'c', T['d']).values()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        Path(T.a.b, 'c', T['d']).values()
    NameError: name 'Path' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, 'a.b.c')
Expected:
    Traceback (most recent call last):
    ...
    PathAccessError: could not access 'c', part 2 of Path('a', 'b', 'c'), got error: ...
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, 'a.b.c')
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = T['a']['b']['c']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = T['a']['b']['c']
    NameError: name 'T' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    spec = ('a', (T['b'].items(), list))  # reviewed below
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        spec = ('a', (T['b'].items(), list))  # reviewed below
    NameError: name 'T' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, Call(ExampleClass, kwargs=T)).attr
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        glom(target, Call(ExampleClass, kwargs=T)).attr
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    T['a'].b['c']('success')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        T['a'].b['c']('success')
    NameError: name 'T' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(object(), ['a.b.c'])
Expected:
    Traceback (most recent call last):
    ...
    UnregisteredTarget: target type 'object' not registered for 'iterate', expected one of registered types: (...)
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        glom(object(), ['a.b.c'])
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, 'a.b')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        glom(target, 'a.b')
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    output = glom(target, spec)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        output = glom(target, spec)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    pprint(output)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        pprint(output)
    NameError: name 'pprint' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom(target, 'a.xx', default='nada')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        glom(target, 'a.xx', default='nada')
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    glom({}, lambda x: 100.0 / len(x), default=0.0, skip_exc=ZeroDivisionError)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        glom({}, lambda x: 100.0 / len(x), default=0.0, skip_exc=ZeroDivisionError)
    NameError: name 'glom' is not defined
**********************************************************************
File "../py2store/utils/glom.py", line ?, in default
Failed example:
    make_sentinel(var_name='_MISSING')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        make_sentinel(var_name='_MISSING')
    NameError: name 'make_sentinel' is not defined
**********************************************************************
File "test.rst", line ?, in default
Failed example:
    make_sentinel('TEST') == make_sentinel('TEST')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        make_sentinel('TEST') == make_sentinel('TEST')
    NameError: name 'make_sentinel' is not defined
**********************************************************************
File "test.rst", line ?, in default
Failed example:
    type(make_sentinel('TEST')) == type(make_sentinel('TEST'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        type(make_sentinel('TEST')) == type(make_sentinel('TEST'))
    NameError: name 'make_sentinel' is not defined
**********************************************************************
File "../py2store/persisters/ftp_persister.py", line ?, in default
Failed example:
    s = FtpPersister()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = FtpPersister()
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/ftp_persister.py", line 68, in __init__
        self._ftp = FTP(host=url, user=user, passwd=password)
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/ftplib.py", line 119, in __init__
        self.login(user, passwd, acct)
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/ftplib.py", line 403, in login
        resp = self.sendcmd('PASS ' + passwd)
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/ftplib.py", line 275, in sendcmd
        return self.getresp()
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/ftplib.py", line 248, in getresp
        raise error_perm(resp)
    ftplib.error_perm: 530 Login authentication failed
**********************************************************************
File "../py2store/persisters/ftp_persister.py", line ?, in default
Failed example:
    for _key in s:
        del s[_key]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        for _key in s:
    RuntimeError: dictionary changed size during iteration
**********************************************************************
File "../py2store/persisters/ftp_persister.py", line ?, in default
Failed example:
    len(s)
Expected:
    0
Got:
    2
**********************************************************************
File "../py2store/persisters/ftp_persister.py", line ?, in default
Failed example:
    len(s)
Expected:
    1
Got:
    3
**********************************************************************
File "../py2store/persisters/ftp_persister.py", line ?, in default
Failed example:
    list(s.values())
Expected:
    ['bar']
Got:
    ['world', 'bob', 'bar']
**********************************************************************
File "../py2store/persisters/ftp_persister.py", line ?, in default
Failed example:
    len(s)
Expected:
    0
Got:
    2
**********************************************************************
File "../py2store/persisters/dropbox_w_dropbox.py", line ?, in default
Failed example:
    configs = json.load(open(os.path.expanduser('~/.py2store_configs.json')))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        configs = json.load(open(os.path.expanduser('~/.py2store_configs.json')))
    FileNotFoundError: [Errno 2] No such file or directory: '/Users/twhalen/.py2store_configs.json'
**********************************************************************
File "../py2store/persisters/dropbox_w_dropbox.py", line ?, in default
Failed example:
    s = DropboxPersister('/py2store_data/test/', **configs['dropbox']['__init__kwargs'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        s = DropboxPersister('/py2store_data/test/', **configs['dropbox']['__init__kwargs'])
    NameError: name 'DropboxPersister' is not defined
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    s = RedisBytesPersister()  # plenty of params possible (all those of redis.Redis), but taking defaults.
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        s = RedisBytesPersister()  # plenty of params possible (all those of redis.Redis), but taking defaults.
    NameError: name 'RedisBytesPersister' is not defined
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    for k in keys:
        del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 2, in <module>
        del s[k]
    KeyError: '_pyst_test_str'
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    s['_pyst_test_str']  # note you won't be getting a str but bytes
Expected:
    b'hello'
Got:
    'hello'
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    '_pyst_test_str' in s
Expected nothing
Got:
    True
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    assert s['_pyst_test_int'] == b'42'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        assert s['_pyst_test_int'] == b'42'
    AssertionError
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    assert s['_pyst_test_float'] == b'3.14'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        assert s['_pyst_test_float'] == b'3.14'
    AssertionError
**********************************************************************
File "../py2store/persisters/redis_w_redis.py", line ?, in default
Failed example:
    '_pyst_test_float' in
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "/Users/twhalen/.virtualenvs/382/lib/python3.8/site-packages/sphinx/ext/doctest.py", line 486, in compile
        return compile(code, name, self.type, flags, dont_inherit)
      File "<doctest default[12]>", line 1
        '_pyst_test_float' in
                            ^
    SyntaxError: invalid syntax
**********************************************************************
File "../py2store/persisters/w_aiofile.py", line ?, in default
Failed example:
    await s.asetitem(k, b'bar')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "/Users/twhalen/.virtualenvs/382/lib/python3.8/site-packages/sphinx/ext/doctest.py", line 486, in compile
        return compile(code, name, self.type, flags, dont_inherit)
      File "<doctest default[9]>", line 1
    SyntaxError: 'await' outside function
**********************************************************************
File "../py2store/persisters/w_aiofile.py", line ?, in default
Failed example:
    assert len(s) == n + 1  # there's one more item in store
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        assert len(s) == n + 1  # there's one more item in store
    AssertionError
**********************************************************************
File "../py2store/persisters/w_aiofile.py", line ?, in default
Failed example:
    assert k in s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        assert k in s
    AssertionError
**********************************************************************
File "../py2store/persisters/w_aiofile.py", line ?, in default
Failed example:
    assert (await s[k]) == b'bar'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "/Users/twhalen/.virtualenvs/382/lib/python3.8/site-packages/sphinx/ext/doctest.py", line 486, in compile
        return compile(code, name, self.type, flags, dont_inherit)
      File "<doctest default[12]>", line 1
    SyntaxError: 'await' outside function
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    s = SshPersister()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = SshPersister()
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/ssh_persister.py", line 77, in __init__
        self._ssh.connect(url, username=user, password=password)
      File "/Users/twhalen/.virtualenvs/382/lib/python3.8/site-packages/paramiko/client.py", line 349, in connect
        retry_on_signal(lambda: sock.connect(addr))
      File "/Users/twhalen/.virtualenvs/382/lib/python3.8/site-packages/paramiko/util.py", line 283, in retry_on_signal
        return function()
      File "/Users/twhalen/.virtualenvs/382/lib/python3.8/site-packages/paramiko/client.py", line 349, in <lambda>
        retry_on_signal(lambda: sock.connect(addr))
    TimeoutError: [Errno 60] Operation timed out
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    s[k] = v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        s[k] = v
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 69, in validate_key
        raise err_type(err_msg_format.format(k))
    py2store.filesys.KeyValidationError: 'Key not valid (usually because does not exist or access not permitted): foo'
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s[k]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 69, in validate_key
        raise err_type(err_msg_format.format(k))
    py2store.filesys.KeyValidationError: 'Key not valid (usually because does not exist or access not permitted): foo'
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    s.get(k)
Expected:
    'bar'
Got nothing
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    len(s)
Expected:
    1
Got:
    0
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    list(s.values())
Expected:
    ['bar']
Got:
    []
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    k in s
Expected:
    True
Got:
    False
**********************************************************************
File "../py2store/persisters/ssh_persister.py", line ?, in default
Failed example:
    del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        del s[k]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 69, in validate_key
        raise err_type(err_msg_format.format(k))
    py2store.filesys.KeyValidationError: 'Key not valid (usually because does not exist or access not permitted): foo'
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s = MongoPersister()  # just use defaults
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        s = MongoPersister()  # just use defaults
    NameError: name 'MongoPersister' is not defined
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    k in s  # see that key is not in store (and testing __contains__)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        k in s  # see that key is not in store (and testing __contains__)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 112, in __contains__
        return self.is_valid_key(k) and os.path.isfile(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[k] = v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        s[k] = v
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    len(s)
Expected:
    1
Got:
    0
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    list(s)
Expected:
    [{'_id': 'foo'}]
Got:
    []
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        s[k]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s.get(k)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        s.get(k)
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/_collections_abc.py", line 660, in get
        return self[key]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s.get({'not': 'a key'}, {'default': 'val'})  # testing s.get with default
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        s.get({'not': 'a key'}, {'default': 'val'})  # testing s.get with default
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/_collections_abc.py", line 660, in get
        return self[key]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    list(s.values())
Expected:
    [{'val': 'bar'}]
Got:
    []
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    k in s  # testing __contains__ again
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        k in s  # testing __contains__ again
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 112, in __contains__
        return self.is_valid_key(k) and os.path.isfile(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        del s[k]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s = MongoPersister(db_name='py2store', collection_name='tmp',
                        key_fields=('first', 'last'), data_fields=('yob', 'proj', 'bdfl'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        s = MongoPersister(db_name='py2store', collection_name='tmp',
    NameError: name 'MongoPersister' is not defined
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[{'first': 'Guido', 'last': 'van Rossum'}] = {'yob': 1956, 'proj': 'python', 'bdfl': False}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[18]>", line 1, in <module>
        s[{'first': 'Guido', 'last': 'van Rossum'}] = {'yob': 1956, 'proj': 'python', 'bdfl': False}
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[{'first': 'Vitalik', 'last': 'Buterin'}] = {'yob': 1994, 'proj': 'ethereum', 'bdfl': True}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[19]>", line 1, in <module>
        s[{'first': 'Vitalik', 'last': 'Buterin'}] = {'yob': 1994, 'proj': 'ethereum', 'bdfl': True}
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    for key, val in s.items():
        print(f"{key} --> {val}")
Expected:
    {'first': 'Guido', 'last': 'van Rossum'} --> {'yob': 1956, 'proj': 'python', 'bdfl': False}
    {'first': 'Vitalik', 'last': 'Buterin'} --> {'yob': 1994, 'proj': 'ethereum', 'bdfl': True}
Got nothing
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s = OldMongoPersister()  # just use defaults
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        s = OldMongoPersister()  # just use defaults
    NameError: name 'OldMongoPersister' is not defined
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    k in s  # see that key is not in store (and testing __contains__)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        k in s  # see that key is not in store (and testing __contains__)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 112, in __contains__
        return self.is_valid_key(k) and os.path.isfile(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[k] = v
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        s[k] = v
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    len(s)
Expected:
    1
Got:
    0
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    list(s)
Expected:
    [{'_id': 'foo'}]
Got:
    []
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        s[k]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s.get(k)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        s.get(k)
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/_collections_abc.py", line 660, in get
        return self[key]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s.get({'not': 'a key'}, {'default': 'val'})  # testing s.get with default
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        s.get({'not': 'a key'}, {'default': 'val'})  # testing s.get with default
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/_collections_abc.py", line 660, in get
        return self[key]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    list(s.values())
Expected:
    [{'val': 'bar'}]
Got:
    []
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    k in s  # testing __contains__ again
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        k in s  # testing __contains__ again
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 112, in __contains__
        return self.is_valid_key(k) and os.path.isfile(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    del s[k]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        del s[k]
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s = OldMongoPersister(db_name='py2store', collection_name='tmp',
                        key_fields=('first', 'last'), data_fields=('yob', 'proj', 'bdfl'))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        s = OldMongoPersister(db_name='py2store', collection_name='tmp',
    NameError: name 'OldMongoPersister' is not defined
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[{'first': 'Guido', 'last': 'van Rossum'}] = {'yob': 1956, 'proj': 'python', 'bdfl': False}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[18]>", line 1, in <module>
        s[{'first': 'Guido', 'last': 'van Rossum'}] = {'yob': 1956, 'proj': 'python', 'bdfl': False}
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    s[{'first': 'Vitalik', 'last': 'Buterin'}] = {'yob': 1994, 'proj': 'ethereum', 'bdfl': True}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[19]>", line 1, in <module>
        s[{'first': 'Vitalik', 'last': 'Buterin'}] = {'yob': 1994, 'proj': 'ethereum', 'bdfl': True}
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/persisters/w_aiofile.py", line 84, in __setitem__
        return asyncio.create_task(self.asetitem(k, v))
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 68, in validate_key
        if not self.is_valid_key(k):
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 65, in is_valid_key
        return bool(self._key_pattern.match(k))
    TypeError: expected string or bytes-like object
**********************************************************************
File "../py2store/persisters/mongo_w_pymongo.py", line ?, in default
Failed example:
    for key, val in s.items():
        print(f"{key} --> {val}")
Expected:
    {'first': 'Guido', 'last': 'van Rossum'} --> {'yob': 1956, 'proj': 'python', 'bdfl': False}
    {'first': 'Vitalik', 'last': 'Buterin'} --> {'yob': 1994, 'proj': 'ethereum', 'bdfl': True}
Got nothing
**********************************************************************
File "../py2store/sources.py", line ?, in default
Failed example:
    s = FuncReader([foo, pi])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s = FuncReader([foo, pi])
    NameError: name 'FuncReader' is not defined
**********************************************************************
File "../py2store/sources.py", line ?, in default
Failed example:
    list(s)
Expected:
    ['foo', 'pi']
Got:
    []
**********************************************************************
File "../py2store/sources.py", line ?, in default
Failed example:
    s['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s['foo']
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 69, in validate_key
        raise err_type(err_msg_format.format(k))
    py2store.filesys.KeyValidationError: 'Key not valid (usually because does not exist or access not permitted): foo'
**********************************************************************
File "../py2store/sources.py", line ?, in default
Failed example:
    s['pi']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        s['pi']
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 41, in wrapped_method
        self.validate_key(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/filesys.py", line 69, in validate_key
        raise err_type(err_msg_format.format(k))
    py2store.filesys.KeyValidationError: 'Key not valid (usually because does not exist or access not permitted): pi'
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    read, write = mk_dill_rw_funcs()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        read, write = mk_dill_rw_funcs()
    NameError: name 'mk_dill_rw_funcs' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    serialized_d = write(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        serialized_d = write(d)
    NameError: name 'write' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    deserialized_d = read(serialized_d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        deserialized_d = read(serialized_d)
    NameError: name 'read' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    assert d == deserialized_d
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert d == deserialized_d
    NameError: name 'deserialized_d' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    read, write = mk_marshal_rw_funcs()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        read, write = mk_marshal_rw_funcs()
    NameError: name 'mk_marshal_rw_funcs' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    serialized_d = write(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        serialized_d = write(d)
    NameError: name 'write' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    deserialized_d = read(serialized_d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        deserialized_d = read(serialized_d)
    NameError: name 'read' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    assert d == deserialized_d
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert d == deserialized_d
    NameError: name 'deserialized_d' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    read, write = mk_pickle_rw_funcs()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        read, write = mk_pickle_rw_funcs()
    NameError: name 'mk_pickle_rw_funcs' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    serialized_d = write(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        serialized_d = write(d)
    NameError: name 'write' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    deserialized_d = read(serialized_d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        deserialized_d = read(serialized_d)
    NameError: name 'read' is not defined
**********************************************************************
File "../py2store/serializers/pickled.py", line ?, in default
Failed example:
    assert d == deserialized_d
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert d == deserialized_d
    NameError: name 'deserialized_d' is not defined
**********************************************************************
File "../py2store/serializers/jsonization.py", line ?, in default
Failed example:
    read, write = mk_marshal_rw_funcs()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        read, write = mk_marshal_rw_funcs()
    NameError: name 'mk_marshal_rw_funcs' is not defined
**********************************************************************
File "../py2store/serializers/jsonization.py", line ?, in default
Failed example:
    serialized_d = write(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        serialized_d = write(d)
    NameError: name 'write' is not defined
**********************************************************************
File "../py2store/serializers/jsonization.py", line ?, in default
Failed example:
    deserialized_d = read(serialized_d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        deserialized_d = read(serialized_d)
    NameError: name 'read' is not defined
**********************************************************************
File "../py2store/serializers/jsonization.py", line ?, in default
Failed example:
    assert d == deserialized_d
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert d == deserialized_d
    NameError: name 'deserialized_d' is not defined
**********************************************************************
File "../py2store/serializers/regular_panel_data.py", line ?, in default
Failed example:
    read, write = mk_reader_and_writer(sr=44100, channels=n_channels, subtype='FLOAT', format='RAW', dtype=dtype)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        read, write = mk_reader_and_writer(sr=44100, channels=n_channels, subtype='FLOAT', format='RAW', dtype=dtype)
    NameError: name 'mk_reader_and_writer' is not defined
**********************************************************************
File "../py2store/serializers/regular_panel_data.py", line ?, in default
Failed example:
    data = _random_matrix(n_channels=n_channels, dtype=dtype)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        data = _random_matrix(n_channels=n_channels, dtype=dtype)
    NameError: name '_random_matrix' is not defined
**********************************************************************
File "../py2store/serializers/regular_panel_data.py", line ?, in default
Failed example:
    _test_data_write_read(data, writer=write, reader=read)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        _test_data_write_read(data, writer=write, reader=read)
    NameError: name '_test_data_write_read' is not defined
**********************************************************************
File "../py2store/serializers/regular_panel_data.py", line ?, in default
Failed example:
    read, write = mk_reader_and_writer(sr=2, channels=n_channels, subtype='PCM_16', format='RAW', dtype=dtype)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        read, write = mk_reader_and_writer(sr=2, channels=n_channels, subtype='PCM_16', format='RAW', dtype=dtype)
    NameError: name 'mk_reader_and_writer' is not defined
**********************************************************************
File "../py2store/serializers/regular_panel_data.py", line ?, in default
Failed example:
    data = _random_matrix(n_channels=n_channels, dtype=dtype)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        data = _random_matrix(n_channels=n_channels, dtype=dtype)
    NameError: name '_random_matrix' is not defined
**********************************************************************
File "../py2store/serializers/regular_panel_data.py", line ?, in default
Failed example:
    _test_data_write_read(data, writer=write, reader=read)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        _test_data_write_read(data, writer=write, reader=read)
    NameError: name '_test_data_write_read' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    @store_cached(store, lambda *args: args)
    def my_data(x, y):
        print("Pretend this is a long computation")
        return x + y
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        @store_cached(store, lambda *args: args)
    NameError: name 'store_cached' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    t = my_data(1, 2)  # note the print below (because the function is called
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        t = my_data(1, 2)  # note the print below (because the function is called
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    tt = my_data(1, 2)  # note there's no print (because the function is NOT called)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        tt = my_data(1, 2)  # note there's no print (because the function is NOT called)
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    tt
Expected:
    3
Got:
    {'a': {'b': {'c': [1, 2, 3]}}}
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    my_data(3, 4)  # but different inputs will trigger the actual function again
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        my_data(3, 4)  # but different inputs will trigger the actual function again
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    my_data._cache
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        my_data._cache
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    @store_cached_with_single_key(store, 'whatevs')
    def my_data():
        print("Pretend this is a long computation")
        return [1, 2, 3]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        @store_cached_with_single_key(store, 'whatevs')
    NameError: name 'store_cached_with_single_key' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    t = my_data()  # note the print below (because the function is called
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        t = my_data()  # note the print below (because the function is called
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    tt = my_data()  # note there's no print (because the function is NOT called)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        tt = my_data()  # note there's no print (because the function is NOT called)
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    tt
Expected:
    [1, 2, 3]
Got:
    {'a': {'b': {'c': [1, 2, 3]}}}
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    my_data._cache  # peep in the cache
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        my_data._cache  # peep in the cache
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    my_data.empty_cache_entry()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        my_data.empty_cache_entry()
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    assert 'whatevs' not in my_data._cache  # see that the cache entry is gone.
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        assert 'whatevs' not in my_data._cache  # see that the cache entry is gone.
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/caching.py", line ?, in default
Failed example:
    t = my_data()  # so when you call the function again, it prints again!d
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        t = my_data()  # so when you call the function again, it prints again!d
    NameError: name 'my_data' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    modules_info_df(collections)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        modules_info_df(collections)
    NameError: name 'modules_info_df' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    modules_info_df_stats(collections.abc)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        modules_info_df_stats(collections.abc)
    NameError: name 'modules_info_df_stats' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    stats_of(['urllib', 'json', 'collections'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        stats_of(['urllib', 'json', 'collections'])
    NameError: name 'stats_of' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    modules_info_df(urllib)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        modules_info_df(urllib)
    NameError: name 'modules_info_df' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    modules_info_df_stats(json)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        modules_info_df_stats(json)
    NameError: name 'modules_info_df_stats' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    modules_info_df_stats('collections.abc')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        modules_info_df_stats('collections.abc')
    NameError: name 'modules_info_df_stats' is not defined
**********************************************************************
File "../py2store/examples/python_code_stats.py", line ?, in default
Failed example:
    stats_of(['urllib', 'json', 'collections'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        stats_of(['urllib', 'json', 'collections'])
    NameError: name 'stats_of' is not defined
**********************************************************************
File "../py2store/examples/kv_walking.py", line ?, in default
Failed example:
    list(kv_walk(d))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        list(kv_walk(d))
    NameError: name 'kv_walk' is not defined
**********************************************************************
File "../py2store/examples/kv_walking.py", line ?, in default
Failed example:
    list(kv_walk(d, lambda p, k, v: '.'.join(p)))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list(kv_walk(d, lambda p, k, v: '.'.join(p)))
    NameError: name 'kv_walk' is not defined
**********************************************************************
File "../py2store/examples/kv_walking.py", line ?, in default
Failed example:
    list(kv_walk(d, lambda p, k, v: '.'.join(p)))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list(kv_walk(d, lambda p, k, v: '.'.join(p)))
    NameError: name 'kv_walk' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    class TestPersister(OverWritesNotAllowedMixin, dict):
        pass
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class TestPersister(OverWritesNotAllowedMixin, dict):
    NameError: name 'OverWritesNotAllowedMixin' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    p = TestPersister()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        p = TestPersister()
    NameError: name 'TestPersister' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    p['foo'] = 'bar'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        p['foo'] = 'bar'
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    p['foo'] = 'this value should not be stored' # doctest: +NORMALIZE_WHITESPACE
Expected:
    Traceback (most recent call last):
      ...
    py2store.errors.OverWritesNotAllowedError: key foo already exists and cannot be overwritten.
        If you really want to write to that key, delete it before writing
Got:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        p['foo'] = 'this value should not be stored' # doctest: +NORMALIZE_WHITESPACE
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    p['foo']  # foo is still bar
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        p['foo']  # foo is still bar
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    del p['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        del p['foo']
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    p['foo'] = 'this value WILL be stored'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        p['foo'] = 'this value WILL be stored'
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    p['foo']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        p['foo']
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = add_path_get({'a': {'b': {'c': 42}}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        s = add_path_get({'a': {'b': {'c': 42}}})
    NameError: name 'add_path_get' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s['a']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s['a']
    KeyError: 'a'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s['a', 'b']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s['a', 'b']
    KeyError: ('a', 'b')
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s['a', 'b', 'c']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        s['a', 'b', 'c']
    KeyError: ('a', 'b', 'c')
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    S = add_path_get(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        S = add_path_get(dict)
    NameError: name 'add_path_get' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = S(a={'b': {'c': 42}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        s = S(a={'b': {'c': 42}})
    NameError: name 'S' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert s['a'] == {'b': {'c': 42}}; assert s['a', 'b'] == {'c': 42}; assert s['a', 'b', 'c'] == 42
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        assert s['a'] == {'b': {'c': 42}}; assert s['a', 'b'] == {'c': 42}; assert s['a', 'b', 'c'] == 42
    KeyError: 'a'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    @add_path_get
    class S(dict):
       pass
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        @add_path_get
    NameError: name 'add_path_get' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = S(a={'b': {'c': 42}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        s = S(a={'b': {'c': 42}})
    NameError: name 'S' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert s['a'] == {'b': {'c': 42}};
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        assert s['a'] == {'b': {'c': 42}};
    KeyError: 'a'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert s['a', 'b'] == s['a']['b'];
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        assert s['a', 'b'] == s['a']['b'];
    KeyError: ('a', 'b')
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert s['a', 'b', 'c'] == s['a']['b']['c']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        assert s['a', 'b', 'c'] == s['a']['b']['c']
    KeyError: ('a', 'b', 'c')
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    SS = kv_wrap(KeyPath(path_sep='.'))(S)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        SS = kv_wrap(KeyPath(path_sep='.'))(S)
    NameError: name 'S' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = SS({'a': {'b': {'c': 42}}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        s = SS({'a': {'b': {'c': 42}}})
    NameError: name 'SS' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert s['a'] == {'b': {'c': 42}}; assert s['a.b'] == s['a']['b']; assert s['a.b.c'] == s['a']['b']['c']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        assert s['a'] == {'b': {'c': 42}}; assert s['a.b'] == s['a']['b']; assert s['a.b.c'] == s['a']['b']['c']
    KeyError: 'a'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    @add_wrapper_method
    class RelPath:
        def __init__(self, root):
            self.root = root
            self._root_length = len(root)
        def _key_of_id(self, _id):
            return _id[self._root_length:]
        def _id_of_key(self, k):
            return self.root + k
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        @add_wrapper_method
    NameError: name 'add_wrapper_method' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    RelDict = RelPath.wrapper(root='foo/')(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        RelDict = RelPath.wrapper(root='foo/')(dict)
    NameError: name 'RelPath' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = RelDict()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s = RelDict()
    NameError: name 'RelDict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert list(s) == ['bar']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert list(s) == ['bar']
    AssertionError
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert s['bar'] == 42
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        assert s['bar'] == 42
    KeyError: 'bar'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert str(s) == "{'foo/bar': 42}"  # reveals that actually, behind the scenes, there's a "foo/" prefix
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        assert str(s) == "{'foo/bar': 42}"  # reveals that actually, behind the scenes, there's a "foo/" prefix
    AssertionError
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    cached_dict = cached_keys(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        cached_dict = cached_keys(dict)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d = cached_dict(a=1, b=2, c=3)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        d = cached_dict(a=1, b=2, c=3)
    NameError: name 'cached_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(d)
Expected:
    ['a', 'b', 'c']
Got:
    ['a', 'b']
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(d.items())  # whether you iterate with .keys(), .values(), or .items()
Expected:
    [('a', 1), ('b', 2), ('c', 3)]
Got:
    [('a', 1), ('b', {'c': 2, 'd': 3})]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=list)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=list)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be in the order they were defined
Expected:
    ['b', 'a', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=sorted)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=sorted)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted
Expected:
    ['a', 'b', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted according to their length
Expected:
    ['c', 'aa', 'bbb']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    @cached_keys
    class A:
        def __iter__(self):
            yield from [1, 2, 3]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        @cached_keys
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list(a)
    TypeError: 'A' object is not iterable
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a)  # proof:
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        list(a)  # proof:
    TypeError: 'A' object is not iterable
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=list)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=list)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be in the order they were defined
Expected:
    ['b', 'a', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=sorted)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=sorted)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted
Expected:
    ['a', 'b', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted according to their length
Expected:
    ['c', 'aa', 'bbb']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    cached_dict = cached_keys(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        cached_dict = cached_keys(dict)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d = cached_dict(a=1, b=2, c=3)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        d = cached_dict(a=1, b=2, c=3)
    NameError: name 'cached_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(d)
Expected:
    ['a', 'b', 'c']
Got:
    ['a', 'b']
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(d.items())  # whether you iterate with .keys(), .values(), or .items()
Expected:
    [('a', 1), ('b', 2), ('c', 3)]
Got:
    [('a', 1), ('b', {'c': 2, 'd': 3})]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=list)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=list)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be in the order they were defined
Expected:
    ['b', 'a', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=sorted)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=sorted)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted
Expected:
    ['a', 'b', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted according to their length
Expected:
    ['c', 'aa', 'bbb']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    @cached_keys
    class A:
        def __iter__(self):
            yield from [1, 2, 3]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        @cached_keys
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list(a)
    TypeError: 'A' object is not iterable
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a)  # proof:
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        list(a)  # proof:
    TypeError: 'A' object is not iterable
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=list)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=list)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be in the order they were defined
Expected:
    ['b', 'a', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=sorted)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=sorted)
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s = sorted_dict({'b': 3, 'a': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted
Expected:
    ['a', 'b', 'c']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        sorted_dict = cached_keys(dict, keys_cache=lambda x: sorted(x, key=len))
    NameError: name 'cached_keys' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s = sorted_dict({'bbb': 3, 'aa': 2, 'c': 1})
    NameError: name 'sorted_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)  # keys will be sorted according to their length
Expected:
    ['c', 'aa', 'bbb']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    filtered_dict = filtered_iter(filt=lambda k: (len(k) % 2) == 1)(dict)  # keep only odd length keys
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        filtered_dict = filtered_iter(filt=lambda k: (len(k) % 2) == 1)(dict)  # keep only odd length keys
    NameError: name 'filtered_iter' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = filtered_dict({'a': 1, 'bb': object, 'ccc': 'a string', 'dddd': [1, 2]})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = filtered_dict({'a': 1, 'bb': object, 'ccc': 'a string', 'dddd': [1, 2]})
    NameError: name 'filtered_dict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s)
Expected:
    ['a', 'ccc']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    'a' in s  # True because odd (length) key
Expected:
    True
Got:
    False
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    len(s)
Expected:
    2
Got:
    7
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s.keys())
Expected:
    ['a', 'ccc']
Got:
    [0, 1, 2, 3, 4, 5, 6]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s.values())
Expected:
    [1, 'a string']
Got:
    [0, 10, 20, 30, 40, 50, 60]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s.items())
Expected:
    [('a', 1), ('ccc', 'a string')]
Got:
    [(0, 0), (1, 10), (2, 20), (3, 30), (4, 40), (5, 50), (6, 60)]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.get('a')
Expected:
    1
Got nothing
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s.items())
Expected:
    [('a', 1), ('ccc', 'a string'), ('x', 10)]
Got:
    [(0, 0), (1, 10), (2, 20), (3, 30), (4, 40), (5, 50), (6, 60)]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    try:
        s['xx'] = 'not an odd key'
        raise ValueError("This should have failed")
    except KeyError:
        pass
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 3, in <module>
        raise ValueError("This should have failed")
    ValueError: This should have failed
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    mydict = insert_aliases(dict, write='dump', read='load', delete='rm', list='peek', count='size')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        mydict = insert_aliases(dict, write='dump', read='load', delete='rm', list='peek', count='size')
    NameError: name 'insert_aliases' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = mydict(true='love')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = mydict(true='love')
    NameError: name 'mydict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.dump('friends', 'forever')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s.dump('friends', 'forever')
    AttributeError: 'WriteCachedStore' object has no attribute 'dump'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s
Expected:
    {'true': 'love', 'friends': 'forever'}
Got:
    {0: 0, 1: 10, 2: 20, 3: 30, 4: 40, 5: 50, 6: 60, 'bar': 42, 'x': 10, 'xx': 'not an odd key'}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.load('true')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s.load('true')
    AttributeError: 'WriteCachedStore' object has no attribute 'load'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(s.peek())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(s.peek())
    AttributeError: 'WriteCachedStore' object has no attribute 'peek'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.size()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        s.size()
    AttributeError: 'WriteCachedStore' object has no attribute 'size'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.rm('true')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        s.rm('true')
    AttributeError: 'WriteCachedStore' object has no attribute 'rm'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s
Expected:
    {'friends': 'forever'}
Got:
    {0: 0, 1: 10, 2: 20, 3: 30, 4: 40, 5: 50, 6: 60, 'bar': 42, 'x': 10, 'xx': 'not an odd key'}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = insert_aliases(s, write='put', read='retrieve', count='num_of_items')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        s = insert_aliases(s, write='put', read='retrieve', count='num_of_items')
    NameError: name 'insert_aliases' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.put('friends', 'forever')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        s.put('friends', 'forever')
    AttributeError: 'UserDict' object has no attribute 'put'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s
Expected:
    {'true': 'love', 'friends': 'forever'}
Got:
    {'true': 'love'}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.retrieve('true')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        s.retrieve('true')
    AttributeError: 'UserDict' object has no attribute 'retrieve'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.num_of_items()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        s.num_of_items()
    AttributeError: 'UserDict' object has no attribute 'num_of_items'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    mydict = insert_load_dump_aliases(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        mydict = insert_load_dump_aliases(dict)
    NameError: name 'insert_load_dump_aliases' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = mydict()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = mydict()
    NameError: name 'mydict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s.dump(obj='love', key='true')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s.dump(obj='love', key='true')
    AttributeError: 'UserDict' object has no attribute 'dump'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    A = kv_wrap_persister_cls(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        A = kv_wrap_persister_cls(dict)
    NameError: name 'kv_wrap_persister_cls' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a['one'] = 1
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        a['one'] = 1
    TypeError: 'A' object does not support item assignment
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a['two'] = 2
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        a['two'] = 2
    TypeError: 'A' object does not support item assignment
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a['three'] = 3
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        a['three'] = 3
    TypeError: 'A' object does not support item assignment
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list(a.items())
    AttributeError: 'A' object has no attribute 'items'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    A  # looks like a dict, but is not:
Expected:
    <class 'abc.dictPWrapped'>
Got:
    <class 'A'>
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert hasattr(a, '_obj_of_data')  # for example, it has this magic method
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        assert hasattr(a, '_obj_of_data')  # for example, it has this magic method
    AssertionError
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        list(a.items())
    AttributeError: 'A' object has no attribute 'items'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    class B(kv_wrap_persister_cls(dict)):
        def _obj_of_data(self, data):
            return data * 60
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        class B(kv_wrap_persister_cls(dict)):
    NameError: name 'kv_wrap_persister_cls' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    b = B()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        b = B()
    NameError: name 'B' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    b.update({'one': 1, 'two': 2, 'three': 3})  # you can write several key-value pairs at once this way!
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        b.update({'one': 1, 'two': 2, 'three': 3})  # you can write several key-value pairs at once this way!
    NameError: name 'b' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(b.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        list(b.items())
    NameError: name 'b' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    print(b)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        print(b)
    NameError: name 'b' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    class C(kv_wrap_persister_cls(dict)):
        def _data_of_obj(self, obj):
            return obj * 60
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        class C(kv_wrap_persister_cls(dict)):
    NameError: name 'kv_wrap_persister_cls' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    c = C()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        c = C()
    NameError: name 'C' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    c.update(one=1, two=2, three=3)  # yet another way you can write multiple key-vals at once
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[17]>", line 1, in <module>
        c.update(one=1, two=2, three=3)  # yet another way you can write multiple key-vals at once
    NameError: name 'c' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(c.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[18]>", line 1, in <module>
        list(c.items())
    NameError: name 'c' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    print(c)  # but notice that unlike when we printed b, here the stored data is actually transformed!
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[19]>", line 1, in <module>
        print(c)  # but notice that unlike when we printed b, here the stored data is actually transformed!
    NameError: name 'c' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    class D(kv_wrap_persister_cls(dict)):
        _data_of_obj = staticmethod(lambda obj: obj * 60)  # to demonstrated another way of doing this
        _key_of_id = lambda self, _id: _id.lower()  # note if you don't specify staticmethod, 1st arg must be self
        def _id_of_key(self, k):  # a function definition like you're used to
            return k.upper()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[20]>", line 1, in <module>
        class D(kv_wrap_persister_cls(dict)):
    NameError: name 'kv_wrap_persister_cls' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d = D()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[21]>", line 1, in <module>
        d = D()
    NameError: name 'D' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(d.items())  # you see clean lower cased keys at the interface of the store
Expected:
    [('one', 60), ('two', 120), ('three', 180)]
Got:
    [('a', 1), ('b', {'c': 2, 'd': 3}), ('oNe', 1), ('TwO', 2), ('tHrEE', 3)]
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    print(d)  # equivalent to print(d.store), so keys and values not wrapped (values were transformed before stored)
Expected:
    {'ONE': 60, 'TWO': 120, 'THREE': 180}
Got:
    {'a': 1, 'b': {'c': 2, 'd': 3}, 'oNe': 1, 'TwO': 2, 'tHrEE': 3}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d = D({'one': 1, 'two': 2, 'three': 3})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[26]>", line 1, in <module>
        d = D({'one': 1, 'two': 2, 'three': 3})
    NameError: name 'D' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    print(d)
Expected:
    {'one': 1, 'two': 2, 'three': 3}
Got:
    {'a': 1, 'b': {'c': 2, 'd': 3}, 'oNe': 1, 'TwO': 2, 'tHrEE': 3}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    relpath_wrap = mk_wrapper(RelPath)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        relpath_wrap = mk_wrapper(RelPath)
    NameError: name 'mk_wrapper' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    RelDict = relpath_wrap(root='foo/')(dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        RelDict = relpath_wrap(root='foo/')(dict)
    NameError: name 'relpath_wrap' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    s = RelDict()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        s = RelDict()
    NameError: name 'RelDict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert list(s) == ['bar']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        assert list(s) == ['bar']
    AssertionError
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    assert str(s) == "{'foo/bar': 42}"  # reveals that actually, behind the scenes, there's a "foo/" prefix
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        assert str(s) == "{'foo/bar': 42}"  # reveals that actually, behind the scenes, there's a "foo/" prefix
    AssertionError
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    A = wrap_kvs(dict, 'A',
                key_of_id=key_of_id, id_of_key=id_of_key, obj_of_data=obj_of_data, data_of_obj=data_of_obj)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        A = wrap_kvs(dict, 'A',
    NameError: name 'wrap_kvs' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a['KEY'] = 1
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        a['KEY'] = 1
    TypeError: 'A' object does not support item assignment
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a  # repr is just the base class (dict) repr, so shows "inside" the store (lower case keys and +100)
Expected:
    {'key': 101}
Got:
    <A object at 0x12db38130>
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a['key'] = 2
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        a['key'] = 2
    TypeError: 'A' object does not support item assignment
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    print(a)  # repr is just the base class (dict) repr, so shows "inside" the store (lower case keys and +100)
Expected:
    {'key': 102}
Got:
    <A object at 0x12db38130>
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a['kEy'] = 3
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        a['kEy'] = 3
    TypeError: 'A' object does not support item assignment
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    a  # repr is just the base class (dict) repr, so shows "inside" the store (lower case keys and +100)
Expected:
    {'key': 103}
Got:
    <A object at 0x12db38130>
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a)  # but from the point of view of the interface the keys are all upper case
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        list(a)  # but from the point of view of the interface the keys are all upper case
    TypeError: 'A' object is not iterable
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(a.items())  # and the values are those we put there.
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        list(a.items())  # and the values are those we put there.
    AttributeError: 'A' object has no attribute 'items'
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    B = wrap_kvs(dict, 'B', postget=lambda k, v: f'upper {v}' if k[0].isupper() else f'lower {v}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        B = wrap_kvs(dict, 'B', postget=lambda k, v: f'upper {v}' if k[0].isupper() else f'lower {v}')
    NameError: name 'wrap_kvs' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    b = B()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        b = B()
    NameError: name 'B' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    b['BIG'] = 'letters'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        b['BIG'] = 'letters'
    NameError: name 'b' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    b['small'] = 'text'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[17]>", line 1, in <module>
        b['small'] = 'text'
    NameError: name 'b' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    list(b.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[18]>", line 1, in <module>
        list(b.items())
    NameError: name 'b' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    mydict = wrap_kvs(dict, preset=preset, postget=postget)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[26]>", line 1, in <module>
        mydict = wrap_kvs(dict, preset=preset, postget=postget)
    NameError: name 'wrap_kvs' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d = mydict()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[28]>", line 1, in <module>
        d = mydict()
    NameError: name 'mydict' is not defined
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d  # "printing" a dict by-passes the transformations, so we see the data in the "raw" format it is stored in.
Expected:
    {'foo.csv': 'a,b,c\\nd,e,f'}
Got:
    {'a': 1, 'b': {'c': 2, 'd': 3}, 'oNe': 1, 'TwO': 2, 'tHrEE': 3, 'foo.csv': [['a', 'b', 'c'], ['d', 'e', 'f']]}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d
Expected:
    {'foo.csv': 'a,b,c\\nd,e,f', 'bar.json': '[["a", "b", "c"], ["d", "e", "f"]]'}
Got:
    {'a': 1, 'b': {'c': 2, 'd': 3}, 'oNe': 1, 'TwO': 2, 'tHrEE': 3, 'foo.csv': [['a', 'b', 'c'], ['d', 'e', 'f']], 'bar.json': [['a', 'b', 'c'], ['d', 'e', 'f']]}
**********************************************************************
File "../py2store/trans.py", line ?, in default
Failed example:
    d
Expected:
    {'foo.csv': 'a,b,c\\nd,e,f', 'bar.json': '{"a": 1, "b": [1, 2], "c": "normal json"}'}
Got:
    {'a': 1, 'b': {'c': 2, 'd': 3}, 'oNe': 1, 'TwO': 2, 'tHrEE': 3, 'foo.csv': [['a', 'b', 'c'], ['d', 'e', 'f']], 'bar.json': {'a': 1, 'b': [1, 2], 'c': 'normal json'}}
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    assert args_and_kwargs_indices(format_string) == ({0, 2}, {'name', 'see'})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert args_and_kwargs_indices(format_string) == ({0, 2}, {'name', 'see'})
    NameError: name 'args_and_kwargs_indices' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    args_and_kwargs_indices(format_string)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        args_and_kwargs_indices(format_string)
    NameError: name 'args_and_kwargs_indices' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    auto_field_format_str('R/{0}/{one}/{}/{two}/T')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        auto_field_format_str('R/{0}/{one}/{}/{two}/T')
    NameError: name 'auto_field_format_str' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    assert compile_str_from_parsed(string.Formatter().parse(s)) == s
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        assert compile_str_from_parsed(string.Formatter().parse(s)) == s
    NameError: name 'compile_str_from_parsed' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    parsed = list(string.Formatter().parse(s))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        parsed = list(string.Formatter().parse(s))
    NameError: name 'string' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    for p in parsed:
        print(p)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        for p in parsed:
    NameError: name 'parsed' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    compile_str_from_parsed(parsed)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        compile_str_from_parsed(parsed)
    NameError: name 'compile_str_from_parsed' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    format_params_in_str_format(format_string)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        format_params_in_str_format(format_string)
    NameError: name 'format_params_in_str_format' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    parsed = parse_str_format("all/{}/is/{2}/position/{except}{this}{0}")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parsed = parse_str_format("all/{}/is/{2}/position/{except}{this}{0}")
    NameError: name 'parse_str_format' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    get_explicit_positions(parsed)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        get_explicit_positions(parsed)
    NameError: name 'get_explicit_positions' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    is_hybrid_format_string('Manual: indices: {1} {2}, named: {named} {fields}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        is_hybrid_format_string('Manual: indices: {1} {2}, named: {named} {fields}')
    NameError: name 'is_hybrid_format_string' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    is_hybrid_format_string('Auto: only un-indexed and un-named: {} {}...')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        is_hybrid_format_string('Auto: only un-indexed and un-named: {} {}...')
    NameError: name 'is_hybrid_format_string' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    is_hybrid_format_string('Hybrid: at least a {}, and a {0} or a {name}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        is_hybrid_format_string('Hybrid: at least a {}, and a {0} or a {name}')
    NameError: name 'is_hybrid_format_string' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    is_manual_format_string('No formatting is both manual and automatic formatting (so hybrid is both)!')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        is_manual_format_string('No formatting is both manual and automatic formatting (so hybrid is both)!')
    NameError: name 'is_manual_format_string' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    auto_field_format_str('R/{0}/{one}/{}/{two}/T')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        auto_field_format_str('R/{0}/{one}/{}/{two}/T')
    NameError: name 'auto_field_format_str' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    name_fields_in_format_str('R/{0}/{one}/{}/{two}/T')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        name_fields_in_format_str('R/{0}/{one}/{}/{two}/T')
    NameError: name 'name_fields_in_format_str' is not defined
**********************************************************************
File "../py2store/key_mappers/str_utils.py", line ?, in default
Failed example:
    name_fields_in_format_str('R/{foo}/{0}/{}/T', ['42', 'hi:03.0f', 'world'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        name_fields_in_format_str('R/{foo}/{0}/{}/T', ['42', 'hi:03.0f', 'world'])
    NameError: name 'name_fields_in_format_str' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    dsv_of_list(['a', 'brown', 'fox'], sep=' ')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        dsv_of_list(['a', 'brown', 'fox'], sep=' ')
    NameError: name 'dsv_of_list' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    dsv_of_list(('jumps', 'over'), sep='/')  # for filepaths (and see that tuple inputs work too!)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        dsv_of_list(('jumps', 'over'), sep='/')  # for filepaths (and see that tuple inputs work too!)
    NameError: name 'dsv_of_list' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    dsv_of_list(['Sat', 'Jan', '1', '1983'], sep=',')  # csv: the usual delimiter-separated values format
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        dsv_of_list(['Sat', 'Jan', '1', '1983'], sep=',')  # csv: the usual delimiter-separated values format
    NameError: name 'dsv_of_list' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    dsv_of_list(['First', 'Last'], sep=':::')  # a longer delimiter
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        dsv_of_list(['First', 'Last'], sep=':::')  # a longer delimiter
    NameError: name 'dsv_of_list' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    dsv_of_list(['singleton'], sep='@')  # when the list has only one element
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        dsv_of_list(['singleton'], sep='@')  # when the list has only one element
    NameError: name 'dsv_of_list' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    dsv_of_list([], sep='@')  # when the list is empty
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        dsv_of_list([], sep='@')  # when the list is empty
    NameError: name 'dsv_of_list' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    list_of_dsv('a brown fox', sep=' ')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        list_of_dsv('a brown fox', sep=' ')
    NameError: name 'list_of_dsv' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    tuple(list_of_dsv('jumps/over', sep='/'))  # for filepaths
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        tuple(list_of_dsv('jumps/over', sep='/'))  # for filepaths
    NameError: name 'list_of_dsv' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    list_of_dsv('Sat,Jan,1,1983', sep=',')  # csv: the usual delimiter-separated values format
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list_of_dsv('Sat,Jan,1,1983', sep=',')  # csv: the usual delimiter-separated values format
    NameError: name 'list_of_dsv' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    list_of_dsv('First:::Last', sep=':::')  # a longer delimiter
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        list_of_dsv('First:::Last', sep=':::')  # a longer delimiter
    NameError: name 'list_of_dsv' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    list_of_dsv('singleton', sep='@')  # when the list has only one element
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        list_of_dsv('singleton', sep='@')  # when the list has only one element
    NameError: name 'list_of_dsv' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    list_of_dsv('', sep='@')  # when the string is empty
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        list_of_dsv('', sep='@')  # when the string is empty
    NameError: name 'list_of_dsv' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    str_from_obj = mk_str_of_obj(['foo', 'bar'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        str_from_obj = mk_str_of_obj(['foo', 'bar'])
    NameError: name 'mk_str_of_obj' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    str_from_obj(a, 'ST{foo}/{bar}/G')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        str_from_obj(a, 'ST{foo}/{bar}/G')
    NameError: name 'str_from_obj' is not defined
**********************************************************************
File "../py2store/key_mappers/tuples.py", line ?, in default
Failed example:
    str_of_tuple(('hello', 'world'), "Well, {} dear {}!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        str_of_tuple(('hello', 'world'), "Well, {} dear {}!")
    NameError: name 'str_of_tuple' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    class P(PathGetMixin, dict):
        pass
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        class P(PathGetMixin, dict):
    NameError: name 'PathGetMixin' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s = P({'a': {'b': {'c': 42}}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        s = P({'a': {'b': {'c': 42}}})
    NameError: name 'P' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s['a']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        s['a']
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s['a', 'b']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        s['a', 'b']
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s['a', 'b', 'c']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        s['a', 'b', 'c']
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    class P(PathGetMixin, dict): ...
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        class P(PathGetMixin, dict): ...
    NameError: name 'PathGetMixin' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    PP = kv_wrap(KeyPath(path_sep='.'))(P)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        PP = kv_wrap(KeyPath(path_sep='.'))(P)
    NameError: name 'P' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s = PP({'a': {'b': {'c': 42}}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        s = PP({'a': {'b': {'c': 42}}})
    NameError: name 'PP' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    assert s['a'] == {'b': {'c': 42}}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        assert s['a'] == {'b': {'c': 42}}
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    assert s['a.b'] == {'c': 42}
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        assert s['a.b'] == {'c': 42}
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    assert s['a.b.c'] == 42
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        assert s['a.b.c'] == 42
    TypeError: string indices must be integers
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    class MyStore(PrefixRelativizationMixin, Store):
        def __init__(self, store, _prefix='/root/of/data/'):
            super().__init__(store)
            self._prefix = _prefix
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        class MyStore(PrefixRelativizationMixin, Store):
    NameError: name 'PrefixRelativizationMixin' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    assert list(s.keys()) == ['foo', 'too']
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        assert list(s.keys()) == ['foo', 'too']
    AssertionError
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s._id_of_key('foo')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        s._id_of_key('foo')
    AttributeError: 'MyStore' object has no attribute '_id_of_key'
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    list(s.items())
Expected:
    [('foo', 'bar'), ('too', 'much')]
Got:
    [('store', {}), ('foo', 'bar'), ('too', 'much')]
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    s.store.items()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        s.store.items()
    AttributeError: 'MyStore' object has no attribute 'store'
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    MyStore = mk_relative_path_store(dict)  # wrap our favorite store: A dict.
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        MyStore = mk_relative_path_store(dict)  # wrap our favorite store: A dict.
    NameError: name 'mk_relative_path_store' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    dict(s.store)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        dict(s.store)
    AttributeError: 'MyStore' object has no attribute 'store'
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    class MyStore(mk_relative_path_store(dict)):  # Indeed, mk_relative_path_store(dict) is a class you can subclass
        def __init__(self, _prefix, *args, **kwargs):
            self._prefix = _prefix
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        class MyStore(mk_relative_path_store(dict)):  # Indeed, mk_relative_path_store(dict) is a class you can subclass
    NameError: name 'mk_relative_path_store' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    dd = rel_path_wrap(d, '/ROOT/of/')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        dd = rel_path_wrap(d, '/ROOT/of/')
    NameError: name 'rel_path_wrap' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    dd['foo'] = 'bar'
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        dd['foo'] = 'bar'
    NameError: name 'dd' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    dict(dd.items())  # gives us what you would expect
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        dict(dd.items())  # gives us what you would expect
    NameError: name 'dd' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    dict(dd.store)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        dict(dd.store)
    NameError: name 'dd' is not defined
**********************************************************************
File "../py2store/key_mappers/paths.py", line ?, in default
Failed example:
    class MyStore(mk_relative_path_store(dict)):  # Indeed, mk_relative_path_store(dict) is a class you can subclass
        def __init__(self, _prefix, *args, **kwargs):
            self._prefix = _prefix
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        class MyStore(mk_relative_path_store(dict)):  # Indeed, mk_relative_path_store(dict) is a class you can subclass
    NameError: name 'mk_relative_path_store' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name = BigDocTest.mk_e_naming()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        e_name = BigDocTest.mk_e_naming()
    NameError: name 'BigDocTest' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name = BigDocTest.mk_u_naming()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        u_name = BigDocTest.mk_u_naming()
    NameError: name 'BigDocTest' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid(e_sref)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        e_name.is_valid(e_sref)
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid(u_sref)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        e_name.is_valid(u_sref)
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.is_valid(u_sref)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        u_name.is_valid(u_sref)
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-GROUP')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-GROUP')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-GROUP/example/')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[10]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-GROUP/example/')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-GROUP/example/files')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[11]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-GROUP/example/files')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-GROUP/example/files/')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[12]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-GROUP/example/files/')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-GROUP/example/files/USER/SUBUSER/2017-01-24/')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[13]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-GROUP/example/files/USER/SUBUSER/2017-01-24/')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.is_valid_prefix('s3://bucket-GROUP/example/files/USER/SUBUSER/2017-01-24/0_0')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[14]>", line 1, in <module>
        e_name.is_valid_prefix('s3://bucket-GROUP/example/files/USER/SUBUSER/2017-01-24/0_0')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.info_dict(e_sref)  # see that utc_ms args were cast to ints
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[15]>", line 1, in <module>
        e_name.info_dict(e_sref)  # see that utc_ms args were cast to ints
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.info_dict(u_sref)  # returns None (because self was made for example!
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[16]>", line 1, in <module>
        u_name.info_dict(u_sref)  # returns None (because self was made for example!
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.info_dict(u_sref)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[17]>", line 1, in <module>
        u_name.info_dict(u_sref)
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.extract('group', e_sref)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[18]>", line 1, in <module>
        e_name.extract('group', e_sref)
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.extract('user', e_sref)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[19]>", line 1, in <module>
        e_name.extract('user', e_sref)
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.extract('group', u_name_2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[20]>", line 1, in <module>
        u_name.extract('group', u_name_2)
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.extract('user', u_name_2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[21]>", line 1, in <module>
        u_name.extract('user', u_name_2)
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[22]>", line 1, in <module>
        e_name.mk_prefix()
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix(group='GROUP')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[23]>", line 1, in <module>
        e_name.mk_prefix(group='GROUP')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix(group='GROUP', user='USER')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[24]>", line 1, in <module>
        e_name.mk_prefix(group='GROUP', user='USER')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[25]>", line 1, in <module>
        e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[26]>", line 1, in <module>
        e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00',
    s_ums=1485272231982)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[27]>", line 1, in <module>
        e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00',
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00',
    s_ums=1485272231982, e_ums=1485261448469)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[28]>", line 1, in <module>
        e_name.mk_prefix(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00',
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.mk_prefix()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[29]>", line 1, in <module>
        u_name.mk_prefix()
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.mk_prefix(group='GROUP')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[30]>", line 1, in <module>
        u_name.mk_prefix(group='GROUP')
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.mk_prefix(group='GROUP', user='USER')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[31]>", line 1, in <module>
        u_name.mk_prefix(group='GROUP', user='USER')
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.mk_prefix(group='GROUP', user='USER', day='DAY')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[32]>", line 1, in <module>
        u_name.mk_prefix(group='GROUP', user='USER', day='DAY')
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.mk_prefix(group='GROUP', user='USER', day='DAY')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[33]>", line 1, in <module>
        u_name.mk_prefix(group='GROUP', user='USER', day='DAY')
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    u_name.mk_prefix(group='GROUP', user='USER', day='DAY', subuser='SUBUSER')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[34]>", line 1, in <module>
        u_name.mk_prefix(group='GROUP', user='USER', day='DAY', subuser='SUBUSER')
    NameError: name 'u_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00',
                s_ums=1485272231982, e_ums=1485261448469)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[35]>", line 1, in <module>
        e_name.mk(group='GROUP', user='USER', subuser='SUBUSER', day='0000-00-00',
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.mk(group='GROUP', user='USER', subuser='SUBUSER', day='from_s_ums',
                s_ums=1485272231982, e_ums=1485261448469)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[36]>", line 1, in <module>
        e_name.mk(group='GROUP', user='USER', subuser='SUBUSER', day='from_s_ums',
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    e_name.replace_name_elements(name, user='NEW_USER', group='NEW_GROUP')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[38]>", line 1, in <module>
        e_name.replace_name_elements(name, user='NEW_USER', group='NEW_GROUP')
    NameError: name 'e_name' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln = StrTupleDictWithPrefix('/home/{user}/fav/{num}.txt',
                      format_dict={'user': '[^/]+', 'num': '\d+'},
                      process_info_dict={'num': int},
                      sep='/'
                     )
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        ln = StrTupleDictWithPrefix('/home/{user}/fav/{num}.txt',
    NameError: name 'StrTupleDictWithPrefix' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.mk('USER', num=123)  # making a string (with args or kwargs)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        ln.mk('USER', num=123)  # making a string (with args or kwargs)
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.is_valid_prefix('/home/USER/fav/')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        ln.is_valid_prefix('/home/USER/fav/')
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.is_valid_prefix('/home/USER/fav/12')  # False because too long
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        ln.is_valid_prefix('/home/USER/fav/12')  # False because too long
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.is_valid_prefix('/home/USER/fav')  # False because too short
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        ln.is_valid_prefix('/home/USER/fav')  # False because too short
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.is_valid_prefix('/home/')  # True because just right
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        ln.is_valid_prefix('/home/')  # True because just right
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.is_valid_prefix('/home/USER/fav/123.txt')  # full path, so output same as is_valid() method
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        ln.is_valid_prefix('/home/USER/fav/123.txt')  # full path, so output same as is_valid() method
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.mk_prefix('ME')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        ln.mk_prefix('ME')
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    ln.mk_prefix(user='YOU', num=456)  # full specification, so output same as same as mk() method
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        ln.mk_prefix(user='YOU', num=456)  # full specification, so output same as same as mk() method
    NameError: name 'ln' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    d = namedtuple_to_dict(nt)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        d = namedtuple_to_dict(nt)
    NameError: name 'namedtuple_to_dict' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    d
Expected:
    {'foo': 1, 'hello': 42}
Got:
    {'/ROOT/of/every/thing': 42, '/ROOT/of/this/too': 0}
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    dict_to_namedtuple(d)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        dict_to_namedtuple(d)
    NameError: name 'dict_to_namedtuple' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    dict_to_namedtuple(d, nt)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        dict_to_namedtuple(d, nt)
    NameError: name 'dict_to_namedtuple' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    mk_pattern_from_template_and_format_dict('{here}/and/{there}')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        mk_pattern_from_template_and_format_dict('{here}/and/{there}')
    NameError: name 'mk_pattern_from_template_and_format_dict' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    p = mk_pattern_from_template_and_format_dict('{here}/and/{there}', {'there': '\d+'})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        p = mk_pattern_from_template_and_format_dict('{here}/and/{there}', {'there': '\d+'})
    NameError: name 'mk_pattern_from_template_and_format_dict' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    p
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        p
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    type(p)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        type(p)
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    p.match('HERE/and/1234').groupdict()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        p.match('HERE/and/1234').groupdict()
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    d = namedtuple_to_dict(nt)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        d = namedtuple_to_dict(nt)
    NameError: name 'namedtuple_to_dict' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    d
Expected:
    {'foo': 1, 'hello': 42}
Got:
    {'/ROOT/of/every/thing': 42, '/ROOT/of/this/too': 0}
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    validate_kwargs({'system': 'darwin'}, validation_dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        validate_kwargs({'system': 'darwin'}, validation_dict)
    NameError: name 'validate_kwargs' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    try:
        validate_kwargs({'system': 'windows'}, validation_dict)
    except AssertionError as e:
        assert str(e).startswith('system must be in')  # omitting the set because inconsistent order
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 2, in <module>
        validate_kwargs({'system': 'windows'}, validation_dict)
    NameError: name 'validate_kwargs' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    try:
        validate_kwargs({'fv_version': 9.9}, validation_dict)
    except AssertionError as e:
        print(e)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 2, in <module>
        validate_kwargs({'fv_version': 9.9}, validation_dict)
    NameError: name 'validate_kwargs' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    try:
        validate_kwargs({'fv_version': 4}, validation_dict)
    except AssertionError as e:
        print(e)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 2, in <module>
        validate_kwargs({'fv_version': 4}, validation_dict)
    NameError: name 'validate_kwargs' is not defined
**********************************************************************
File "../py2store/key_mappers/naming.py", line ?, in default
Failed example:
    validate_kwargs({'fv_version': 6}, validation_dict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        validate_kwargs({'fv_version': 6}, validation_dict)
    NameError: name 'validate_kwargs' is not defined
**********************************************************************
File "../py2store/errors.py", line ?, in default
Failed example:
    list(items_with_caught_exceptions(Test()))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list(items_with_caught_exceptions(Test()))
    NameError: name 'items_with_caught_exceptions' is not defined
**********************************************************************
File "../py2store/errors.py", line ?, in default
Failed example:
    list(items_with_caught_exceptions(Test(), callback=my_log))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        list(items_with_caught_exceptions(Test(), callback=my_log))
    NameError: name 'items_with_caught_exceptions' is not defined
**********************************************************************
File "../py2store/errors.py", line ?, in default
Failed example:
    list(items_with_caught_exceptions(Test(), callback=my_other_log))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        list(items_with_caught_exceptions(Test(), callback=my_other_log))
    NameError: name 'items_with_caught_exceptions' is not defined
**********************************************************************
File "../py2store/slib/s_configparser.py", line ?, in default
Failed example:
    ConfigReader(ini_filepath).to_dict()
Expected:
    {'DEFAULT': {}, 'nothing': {'like': 'you', 'something': 'else'}, 'new_section': {'a': 'b', 'c': 'd'}}
Got:
    {'DEFAULT': {}, 'nothing': {'special': 'about', 'number': '42'}, 'add': {'more': 'sections'}}
**********************************************************************
File "../py2store/slib/s_configparser.py", line ?, in default
Failed example:
    with ConfigStore(ini_filepath) as s:
        del s['new_section']  # that's usually immediately persisted. This time, it'll wait to be
        del s['nothing']['something']  # delete the something field of nothing section
        s['nothing'].update({'like': 'that', 'ever': 'happened'})  # update 'like' config and add an 'ever' one
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 2, in <module>
        del s['new_section']  # that's usually immediately persisted. This time, it'll wait to be
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/slib/s_configparser.py", line 56, in _method_func
        output = method_func(self, *args, **kwargs)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/slib/s_configparser.py", line 275, in __delitem__
        super(ConfigStore, self).__delitem__(k)
      File "/D/Dropbox/dev/p3/proj/py2store/py2store/base.py", line 416, in __delitem__
        return self.store.__delitem__(self._id_of_key(k))
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/configparser.py", line 980, in __delitem__
        raise KeyError(key)
    KeyError: 'new_section'
**********************************************************************
File "../py2store/slib/s_configparser.py", line ?, in default
Failed example:
    ConfigReader(ini_filepath).to_dict()
Expected:
    {'DEFAULT': {}, 'nothing': {'like': 'that', 'ever': 'happened'}}
Got:
    {'DEFAULT': {}, 'nothing': {'special': 'about', 'number': '42'}, 'add': {'more': 'sections'}}
**********************************************************************
File "../py2store/base.py", line ?, in default
Failed example:
    list(kv_walk(d))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        list(kv_walk(d))
    NameError: name 'kv_walk' is not defined
**********************************************************************
File "../py2store/base.py", line ?, in default
Failed example:
    list(kv_walk(d, lambda p, k, v: '.'.join(p)))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        list(kv_walk(d, lambda p, k, v: '.'.join(p)))
    NameError: name 'kv_walk' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selector = LidxSelectorDf(pd.DataFrame(_docs))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        selector = LidxSelectorDf(pd.DataFrame(_docs))
    NameError: name 'LidxSelectorDf' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(selector)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        len(selector)
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selection = selector.select({"tag": {"$eq": 'small'}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        selection = selector.select({"tag": {"$eq": 'small'}})
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        len(selection)
    NameError: name 'selection' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    _print_docs(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        _print_docs(selection)
    NameError: name '_print_docs' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selection = selector.select({'bt': {"$gte": 20}, 'tt': {"$lt": 45}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        selection = selector.select({'bt': {"$gte": 20}, 'tt': {"$lt": 45}})
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    _print_docs(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        _print_docs(selection)
    NameError: name '_print_docs' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    df_selector = MgDfSelector(_docs)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        df_selector = MgDfSelector(_docs)
    NameError: name 'MgDfSelector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(df_selector)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        len(df_selector)
    NameError: name 'df_selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    jdict = df_selector.to_jdict()
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        jdict = df_selector.to_jdict()
    NameError: name 'df_selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    json_str = json.dumps(jdict)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        json_str = json.dumps(jdict)
    NameError: name 'jdict' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    df_selector_2 = MgDfSelector(json.loads(json_str))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        df_selector_2 = MgDfSelector(json.loads(json_str))
    NameError: name 'MgDfSelector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(df_selector_2)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        len(df_selector_2)
    NameError: name 'df_selector_2' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    next(iter(df_selector))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        next(iter(df_selector))
    NameError: name 'df_selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    next(iter(df_selector_2))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[9]>", line 1, in <module>
        next(iter(df_selector_2))
    NameError: name 'df_selector_2' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selector = MgDfSelector(_df=pd.DataFrame(_docs))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        selector = MgDfSelector(_df=pd.DataFrame(_docs))
    NameError: name 'MgDfSelector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(selector)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        len(selector)
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selection = selector.select({"tag": {"$eq": 'small'}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        selection = selector.select({"tag": {"$eq": 'small'}})
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        len(selection)
    NameError: name 'selection' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    _print_docs(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        _print_docs(selection)
    NameError: name '_print_docs' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selection = selector.select({'bt': {"$gte": 20}, 'tt': {"$lt": 45}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        selection = selector.select({'bt': {"$gte": 20}, 'tt': {"$lt": 45}})
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    _print_docs(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        _print_docs(selection)
    NameError: name '_print_docs' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selector = MgDfSelector2(pd.DataFrame(_docs))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        selector = MgDfSelector2(pd.DataFrame(_docs))
    NameError: name 'MgDfSelector2' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(selector)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        len(selector)
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selection = selector.select({"tag": {"$eq": 'small'}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        selection = selector.select({"tag": {"$eq": 'small'}})
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    len(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        len(selection)
    NameError: name 'selection' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    _print_docs(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        _print_docs(selection)
    NameError: name '_print_docs' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    selection = selector.select({'bt': {"$gte": 20}, 'tt': {"$lt": 45}})
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        selection = selector.select({'bt': {"$gte": 20}, 'tt': {"$lt": 45}})
    NameError: name 'selector' is not defined
**********************************************************************
File "../py2store/selectors/mg_selectors.py", line ?, in default
Failed example:
    _print_docs(selection)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[8]>", line 1, in <module>
        _print_docs(selection)
    NameError: name '_print_docs' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse("It's {}, I love it!", "It's spam, I love it!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parse("It's {}, I love it!", "It's spam, I love it!")
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    _[0]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        _[0]
    KeyError: 0
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    search('Age: {:d}\n', 'Name: Rufus\nAge: 42\nColor: red\n')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        search('Age: {:d}\n', 'Name: Rufus\nAge: 42\nColor: red\n')
    NameError: name 'search' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    ''.join(r.fixed[0] for r in findall(">{}<", "<p>the <b>bold</b> text</p>"))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        ''.join(r.fixed[0] for r in findall(">{}<", "<p>the <b>bold</b> text</p>"))
    NameError: name 'findall' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    p = compile("It's {}, I love it!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        p = compile("It's {}, I love it!")
    TypeError: compile() missing required argument 'filename' (pos 2)
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(p)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        print(p)
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    p.parse("It's spam, I love it!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        p.parse("It's spam, I love it!")
    NameError: name 'p' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('SPAM', 'spam', case_sensitive=True) is None
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parse('SPAM', 'spam', case_sensitive=True) is None
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse("Bring me a {}", "Bring me a shrubbery")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parse("Bring me a {}", "Bring me a shrubbery")
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    r = parse("The {} who say {}", "The knights who say Ni!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        r = parse("The {} who say {}", "The knights who say Ni!")
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        print(r)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r.fixed)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        print(r.fixed)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    r = parse("Bring out the holy {item}", "Bring out the holy hand grenade")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        r = parse("Bring out the holy {item}", "Bring out the holy hand grenade")
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        print(r)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r.named)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        print(r.named)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r['item'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        print(r['item'])
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    r = parse("Mmm, {food.type}, I love it!", "Mmm, spam, I love it!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        r = parse("Mmm, {food.type}, I love it!", "Mmm, spam, I love it!")
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        print(r)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r.named)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        print(r.named)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r['food.type'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        print(r['food.type'])
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    r = parse("My quest is {quest[name]}", "My quest is to seek the holy grail!")
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        r = parse("My quest is {quest[name]}", "My quest is to seek the holy grail!")
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[5]>", line 1, in <module>
        print(r)
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r['quest'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[6]>", line 1, in <module>
        print(r['quest'])
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    print(r['quest']['name'])
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[7]>", line 1, in <module>
        print(r['quest']['name'])
    NameError: name 'r' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('Our {:d} {:w} are...', 'Our 3 weapons are...')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parse('Our {:d} {:w} are...', 'Our 3 weapons are...')
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('Our {:d} {:w} are...', 'Our three weapons are...')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        parse('Our {:d} {:w} are...', 'Our three weapons are...')
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('Meet at {:tg}', 'Meet at 1/2/2011 11:00 PM')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        parse('Meet at {:tg}', 'Meet at 1/2/2011 11:00 PM')
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('with {:>} herring', 'with     a herring')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parse('with {:>} herring', 'with     a herring')
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('spam {:^} spam', 'spam    lovely     spam')
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        parse('spam {:^} spam', 'spam    lovely     spam')
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('{:.2}{:.2}', 'look')           # specifying precision
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        parse('{:.2}{:.2}', 'look')           # specifying precision
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('{:4}{:4}', 'look at that')     # specifying width
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        parse('{:4}{:4}', 'look at that')     # specifying width
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('{:4}{:.4}', 'look at that')    # specifying both
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        parse('{:4}{:.4}', 'look at that')    # specifying both
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('{:2d}{:2d}', '0440')           # parsing two contiguous numbers
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        parse('{:2d}{:2d}', '0440')           # parsing two contiguous numbers
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('{:shouty} world', 'hello world', dict(shouty=shouty))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        parse('{:shouty} world', 'hello world', dict(shouty=shouty))
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('Answer: {number:Number}', 'Answer: 42', dict(Number=parse_number))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        parse('Answer: {number:Number}', 'Answer: 42', dict(Number=parse_number))
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    _ = parse('Answer: {:Number}', 'Answer: Alice', dict(Number=parse_number))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[3]>", line 1, in <module>
        _ = parse('Answer: {:Number}', 'Answer: Alice', dict(Number=parse_number))
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    assert _ is None, "MISMATCH"
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[4]>", line 1, in <module>
        assert _ is None, "MISMATCH"
    AssertionError: MISMATCH
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    @with_pattern(r'\d+')
    def parse_number(text):
       return int(text)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        @with_pattern(r'\d+')
    NameError: name 'with_pattern' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('Answer: {number:Number}', 'Answer: 42', dict(Number=parse_number))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        parse('Answer: {number:Number}', 'Answer: 42', dict(Number=parse_number))
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    @with_pattern(r"|".join(yesno_mapping))
    def parse_yesno(text):
        return yesno_mapping[text.lower()]
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        @with_pattern(r"|".join(yesno_mapping))
    NameError: name 'with_pattern' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    @with_pattern(r'((\d+))', regex_group_count=2)
    def parse_number2(text):
       return int(text)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        @with_pattern(r'((\d+))', regex_group_count=2)
    NameError: name 'with_pattern' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    parse('Answer: {:Number2} {:Number2}', 'Answer: 42 43', dict(Number2=parse_number2))
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[1]>", line 1, in <module>
        parse('Answer: {:Number2} {:Number2}', 'Answer: 42 43', dict(Number2=parse_number2))
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    sorted(parse(pattern, data).named.items())
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[2]>", line 1, in <module>
        sorted(parse(pattern, data).named.items())
    NameError: name 'parse' is not defined
**********************************************************************
File "../py2store/parse_format.py", line ?, in default
Failed example:
    @with_pattern(r"\d+")
    def parse_number(text):
        return int(text)
Exception raised:
    Traceback (most recent call last):
      File "/Users/twhalen/.pyenv/versions/3.8.2/lib/python3.8/doctest.py", line 1329, in __run
        exec(compile(example.source, filename, "single",
      File "<doctest default[0]>", line 1, in <module>
        @with_pattern(r"\d+")
    NameError: name 'with_pattern' is not defined
**********************************************************************
1 items had failures:
 814 of 1188 in default
1188 tests in 1 items.
374 passed and 814 failed.
***Test Failed*** 814 failures.

Doctest summary
===============
 1188 tests
  814 failures in tests
    0 failures in setup code
    0 failures in cleanup code
